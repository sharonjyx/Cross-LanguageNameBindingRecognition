E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\acegi\\JtracCasProxyTicketValidator.java, class that exists purely to add a couple of setters the Acegi CasProxyTicketValidator so loginUrl logoutUrl can be also included in applicationContext acegi cas xml since we use Wicket don t need CasProcessingFilterEntryPoint kind hack would have been much better JtracConfigurer properties file but people who want CAS are assumed good at hacking XML plus seems undergoing major overhaul moment as well and haven yet looked JtracCasProxyTicketValidator getLoginUrl Optional  return empty setLoginUrl this getLogoutUrl setLogoutUrl
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\acegi\\JtracLdapAuthenticationProvider.java, custom simple LDAP integration approach where only authentication is expected from Space allocations have to be performed within JTrac we are not using Acegi support because a it does appear binding  as the user signing in opposed hardcoded and password which very nice b easier configure customize extend future please refer http forum java sun com thread jspa threadID tstart one time init routine normally called by Spring InitializingBean for Active Directory Fast Bind Control used here catch just log then re throw displayName mail returned always map allows us getting arbitrary properties hopefully javax naming AuthenticationException standard there should anyway if reached was no search result but when use FactoryBean call this manually JtracLdapAuthenticationProvider logger jtrac ldapUrl activeDirectoryDomain searchBase searchKey displayNameKey mailKey otherReturningAttributes returningAttributes control setJtrac Optional empty setLdapUrl setActiveDirectoryDomain setSearchBase setSearchKey setDisplayNameKey setMailKey setOtherReturningAttributes supports clazz return UsernamePasswordAuthenticationToken class isAssignableFrom authenticate getClass null debug attempting via Map String attributes try bind getName getCredentials toString Exception e failed returning ldap provider details retrieved now checking local database UserDetails userDetails loadUserByUsername ae allocated any Spaces new getAuthorities loginName Hashtable env put Context INITIAL CONTEXT FACTORY jndi LdapCtxFactory PROVIDER URL SECURITY AUTHENTICATION LdapContext ctx controls InitialLdapContext context initialized addToEnvironment PRINCIPAL CREDENTIALS reconnect successful else Standard SearchControls sc setSearchScope SUBTREE SCOPE setReturningAttributes NamingEnumeration results while hasMoreElements SearchResult sr next Attributes attrs getAttributes HashMap length key Attribute attr get afterPropertiesSet List keys ArrayList add s toArray size trim sAMAccountName uid info authenthication
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\config\\DataSourceFactoryBean.java, p This class implements the Spring frameworks link org springframework beans factory FactoryBean as well DisposableBean to conditionally create correct code DataSource object access database Supported data sources are ul li a href http hsqldb HSQLDB embedded commons apache dbcp Apache DBCP Java Naming and Directory Interface JNDI supported by most JDBC drivers Logger DB driver name url user password queries used check if can be accessed source method allows store of param driverClassName The username SQL query string connection is working validationQuery validate dataSourceJndiName returns dataSource for throws Exception see getObject end else try catch java comp env will prefixed doesn t already have it step actually does lookup which determine implementation currently return Returns Object getObjectType implemented Singleton or not isSingleton called clean up references when destroyed destroy DataSourceFactoryBean logger setDriverClassName Optional  this setUrl setUsername setPassword setValidationQuery setDataSourceJndiName StringUtils hasText info datasource requested looking from JndiObjectFactoryBean factoryBean new setJndiName setResourceRef true afterPropertiesSet e error init failed aborting application startup throw RuntimeException startsWith jdbc file mode detected switching on spring single SingleConnectionDataSource ds setSuppressClose Not using pooling BasicDataSource setTestOnBorrow false setTestWhileIdle setTimeBetweenEvictionRunsMillis instanceof attempting shut down Connection con getConnection Statement stmt createStatement executeUpdate SHUTDOWN close successfully closed context shutting
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\config\\JtracConfigurer.java, p Custom extension of the Spring PropertyPlaceholderConfigurer that sets up jtrac home System property creates if required and also a default properties file for HSQLDB useful those who want to quickly evaluate JTrac Just dropping war into servlet container would work without need even configure datasource This class effectively do nothing code exists in ol li A is looked WEB INF classes init not found then system checked context parameter called last resort folder created user used as Other tasks ul initialize test query checking idle database connections list available locales based on files Also playing an important role during startup are following factory beans DataSourceFactoryBean switches between embedded or Apache DBCP connection pool performs graceful shutdown ProviderManagerFactoryBean conditionally includes LDAP authentication requested Note later HibernateJtracDao check tables exist they don t proceed create them our custom configuration before spring gets chance assumed TODO better way value should be The current SELECT FROM DUAL only works Oracle MySQL databases support e g PostgreSQL Hypersonic H etc set can overridden by finally expecting manually JtracConfigurer PropertyPlaceholderConfigurerimplementsServletContextAware servletContext setServletContext Optional  this empty postProcessBeanFactory beanFactory try configureJtrac catch Exception throw new BeanCreationException failed super String jtracHome null ClassPathResource jtracInitResource Properties props loadProps getFile logger info classpath processing getProperty initialized from FilenameFilter ff public boolean accept File dir name return startsWith messages endsWith messagePropsFiles getParentFile listFiles en f int endIndex getName indexOf localeCode substring configured setProperty valid trying paramters getInitParameter Servlet warn paramter does Will use directory homeFile mkdir getPath message invalid path getAbsolutePath creating first Aborting error else already attachmentsFile attachments indexesFile indexes propsFile createNewFile OutputStream os FileOutputStream Writer out PrintWriter write driver org hsqldb jdbcDriver n url jdbc db username sa password hibernate dialect HSQLDialect show sql false close will Finished version timestamp versionResource versionProps did find validationQuery ldap activeDirectoryDomain searchBase jndiname setProperties FileSystemResource fsr setLocation InputStream FileInputStream load
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\config\\ProviderManagerFactoryBean.java, acegi authentication provider manager factory bean conditionally sets up ldap IMPORTANT we have to call this one time init ourselves as are manually doing the stuff not Spring is added at top of list or providers and will fall back local database add dependency injected based ProviderManagerFactoryBean logger jtrac ldapUrl activeDirectoryDomain searchBase authenticationProvider setJtrac Optional  empty setLdapUrl setActiveDirectoryDomain setSearchBase setAuthenticationProvider getObject List new ArrayList if length info switching on JtracLdapAuthenticationProvider ldapProvider afterPropertiesSet else using ProviderManager mgr setProviders return getObjectType class isSingleton true
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\Constants.java, Jtrac constants Constants METADATA ROLES ROLE FIELDS NAME LABEL OPTION VALUE OPTIONAL FIELD ORDER TRUE TRANSITION STATE STATES STATUS MASK XPATH
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\AbstractItem.java, Abstract class that serves as base for both Item and History this contains the fields are common to persisted slightly different meaning probably belong not AbstractItem but convenient item view form binding mvc convenience really domain TODO refactor we could have used reflection or a Map doing way performance should never happen must override behaves differently from using accessor space getSpace is overridden in subclass id version parent summary detail loggedBy assignedTo timeStamp plannedEffort status severity priority cusInt cusDbl cusStr cusTim itemUsers relatedItems relatingItems itemTags sendNotifications getValue fieldName Optional  switch case SEVERITY return PRIORITY CUS INT DBL STR TIM default null setValue value Integer break Double String Date empty getRefId getCustomValue if getType getMetadata else Object o instanceof DateUtils format toString getStatusValue getStatus getSeverity getPriority getCusInt getCusDbl getCusStr getCusTim setStatus setSeverity setPriority setCusInt setCusDbl setCusStr setCusTim getId setId getVersion setVersion getParent setParent getSummary setSummary getDetail setDetail getLoggedBy setLoggedBy getAssignedTo setAssignedTo getTimeStamp setTimeStamp getPlannedEffort setPlannedEffort isSendNotifications setSendNotifications getItemUsers setItemUsers getRelatedItems setRelatedItems getRelatingItems setRelatingItems getItemTags setItemTags StringBuffer sb new append
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Attachment.java, Represents a file attachment Files will be stored on the local system not within database When an Attachment is first uploaded and it prefixed with value of id generated insert This filePrefix property separately to smoothly handle migrations So even if export import changes column values files attachments folder can used as without resorting mass renaming previous fileName getFileName Optional  return empty setFileName this getId setId getPrevious setPrevious getFilePrefix setFilePrefix
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\BatchInfo.java, class that was created just to bridge the UI and service tier for batch operations allows query this object status of a long running so progress bar could be updated e g but it also holds useful generic info like size etc BatchInfo BATCH SIZE batchSize totalSize currentPosition isComplete Optional  return empty incrementPosition getBatchSize setBatchSize getCurrentPosition setCurrentPosition getTotalSize setTotalSize
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\ColumnHeading.java, used to render columns in the search results table and also filter screen set up a static Map resolve String our ColumnHeading Name enum value Resolve valid for test if given string is column heading name see description below private getProcessor method return possible expressions equals greater than etc show on UI selection wicket ui fragment that will be shown over ajax based selected expression get as hibernate restriction append passed criteria query database querystring representation of create bookmarkable url load initialize critera when acting this routine massive then construct acts factory right implementation responsibilities defined Processor class above type returned having everything one place makes it easy maintain logic each methods are closely interdependent e g kind needed depends what made available decimal number date free text not custom field but built should never come here ItemSearch getRefId do nothing detail already processed getSearchText status selectable only context space null handled special case getSelectedSpaces TODO refactor code duplication ignore first token has been parsed Expression with more filtercriteria security prevent URL spoofing spaces allocated user accessor NAMES MAP label visible processor filterCriteria convertToName Optional  n throw new RuntimeException Bad isValidName containsKey isValidFieldOrColumnName Field empty isField isDropDownType else LOGGED BY ASSIGNED TO STATUS getColumnHeadings s List list ArrayList add ID SUMMARY DETAIL f getMetadata getFieldList TIME STAMP SPACE getValidFilterExpressions getFilterUiFragment container jtrac addRestrictions getAsQueryString loadFromQueryString switch getName getType getAsList IN Fragment MarkupContainer User Space Jtrac fragParent multiSelect final options getOptions JtracCheckBoxMultipleChoice choice values keySet IChoiceRenderer public Object getDisplayValue o getIdValue int i toString setModel PropertyModel void DetachedCriteria filterHasValueList getValues Integer keys size Restrictions getNameText getQueryStringFromValueList setValueListFromQueryString EQ NOT GT LT BETWEEN textField TextField Double getExpression WebMarkupContainer setVisible false filterHasValue getValue eq break gt lt default getQueryStringFromValue setValueFromQueryString dateField YuiCalendar calendar Date CONTAINS getTextFieldFragment ilike MatchMode ANYWHERE Unknown Column Heading id getStatesMap remove State NEW setStatusListFromQueryString users findUsersForUser findUsersForSpace getId getQueryStringFromUserList setUserListFromQueryString getSpaces getQueryStringFromSpaceList setSpaceListFromQueryString true trim length prependExpression getKey temp clazz DateUtils format u setExpressionAndGetRemainingTokens tokens split setExpression FilterCriteria convertToExpression remainingTokens raw setValues v setValue convert findUsersWhereIdIn getAsListOfLong findSpacesWhereIdIn isAllocatedToSpace statuses Long ids setName nameAsString getText getField getLabel getFilterCriteria setFilterCriteria isVisible hashCode instanceof ch StringBuilder sb
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Config.java, Simple name value pair to hold configuration parameters in the database for JTrac e g SMTP mail server etc TODO better validation type safety masking of password someone reported that key is a reserved word MySQL set up static valid config names zero arg constructor Config param PARAMS getParams Optional  return empty isMailConfig startsWith jtrac url isAttachmentConfig attachment isSessionTimeoutConfig session isLocaleConfig locale getParam setParam this getValue setValue
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Counts.java, Object that holds statistics for items within a single space map of these would serve as the model dashboard view contains logic totalling etc return string easier rendering on screen Counts ASSIGNED TO ME LOGGED BY TOTAL typeCounts detailed isDetailed Optional  empty addLoggedByMe state count add addAssignedToMe addTotal type Map Integer Long stateCounts get i if null put else getTotalForType int total Entry entry entrySet getValue getLoggedByMe getAssignedToMe getTotal getLoggedByMeMap getAssignedToMeMap getTotalMap getLoggedByMeForState stateKey toString getAssignedToMeForState getTotalForState this new HashMap
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\CountsHolder.java, Just wraps a Map of Counts keyed to Space ids but adds logic for adding and iterative totalling CountsHolder counts addLoggedByMe spaceId count Optional  add LOGGED BY ME empty addAssignedToMe ASSIGNED TO addTotal TOTAL type c get if null new false put getTotalForType int total values return getTotalLoggedByMe getTotalAssignedToMe getTotalTotal getCounts
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\ExcelFile.java, Class that encapsulates an Excel Sheet Workbook and is used to process cleanse import contents of uploaded excel file into JTrac grid data form binding operations edits represents a column heading mapping Space built in custom field cell value acts as object holder internal key for cells mapped drop downs status will default Open timestamp now mandatory check be ignored if any the following are only MANDATORY fields next set by JtracImpl null no assume could not find better way convert number date update first HEADER headings important this routine assumes row header reaching empty means end DATA c getDateCellValue do nothing ExcelFile Column Cell logger columns rows selectedColumns selectedRows label columnHeading getRows Optional  return getColumns getSelectedColumns setSelectedColumns getSelectedRows setSelectedRows isColumnSelected size isRowSelected getFirstSelectedColumn int index get getFirstSelectedRow clearSelected new ArrayList Integer getMappedColumnHeadings List ColumnHeading list add getDuplicatedColumnHeadings Set HashSet ch contains getUnMappedColumnHeadings summary Name SUMMARY detail DETAIL loggedBy LOGGED BY assignedTo ASSIGNED TO removeAll getColumnCells rowCells getColumnCellsCloned getClone setColumnCells columnCells count getRowCellsCloned setRowCells getColumnDistinctCellValues String TreeSet getValueAsString getAsItems s Item items item setSpace i continue isField Field getField isDropDownType setValue getName else switch case setSummary toString break setDetail setLoggedBy User setAssignedTo STATUS setStatus TIME STAMP setTimeStamp Date getStatus State OPEN deleteSelectedRowsAndColumns cursor remove convertSelectedColumnsToDate HSSFWorkbook wb HSSFSheet sheet createSheet HSSFRow createRow HSSFCell createCell short instanceof Double setCellValue concatenateSelectedColumns rowIndex n extractSummaryFromSelectedColumn length substring duplicateSelectedColumn clone getLabel setLabel setColumnHeading getColumnHeading isEmpty trim isValid getType true false getValue setKey getKey ItemUtils fixWhiteSpace DateUtils formatTimeStamp POIFSFileSystem fs try catch Exception e throw RuntimeException getSheetAt r col getRow while getCell getStringCellValue rowData boolean isEmptyRow Object getCellType CELL TYPE STRING NUMERIC getNumericCellValue BLANK
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Field.java, code Metadata is composited of Field elements that represent each the custom fields may be used within an item set up a static Map to resolve String our Name enum value Resolve valid for test if given string field name names are in outside world e g XML representation metadata persisted database zero arg constructor append this object onto existing document marshal into fresh new Element copy values appending empty strings create objects clone support TODO i  n accessor label optional options NAMES MAP convertToName text Optional get null throw RuntimeException Bad return isValidName containsKey addAsChildOf parent addElement FIELD copyTo getAsElement XmlUtils getNewElement addAttribute NAME LABEL OPTIONAL TRUE Entry entry entrySet option OPTION VALUE getKey addText getValue addOption Set Integer TreeSet s keySet add int last toArray size key LinkedHashMap put attributeValue getTextTrim equals getCustomValue hasOption false containsValue getClone initOptions type Severity Fatal Major Minor Trivial Suggestion else Priority Highest High Medium Low Lowest setName nameAsString isDropDownType isDatePickerType isDecimalNumberType getOptionsWithIntegerKeys map HashMap getOptions setOptions getLabel setLabel isOptional setOptional getName toString StringBuffer sb o true instanceof final f hashCode fieldName attribute Object
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\FilterCriteria.java, can possibly be merged into ColumnHeading but at the moment hold filter criteria entered by user for search value single values second between kind of queries list multi select set up a static Map to resolve String our Expression enum Resolve valid FilterCriteria EXPRESSIONS MAP expression previousExpression convertToExpression text Optional  e get if null throw new RuntimeException Bad name return getExpression empty setExpression this requiresUiFragmentUpdate BETWEEN true else false getValue setValue getValues setValues toString StringBuilder sb append
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\History.java, Any updates to an Item even a new insert causes snapshot of the item be stored in History table In this way for each view is available which shows diffs who made changes and when etc zero arg constructor used creating inserting history b create editing case status loggedBy assignedTo fields are additionally tweaked setTimeStamp getTimeStamp Lucene DocumentCreator implementation AbstractItem type comment actualEffort attachment createDocument Optional  Document d add org apache lucene document Field id getId Store YES Index NO itemId getParent StringBuffer sb if getSummary null append getDetail length text toString TOKENIZED return getRefId empty getSpace getIndex int index h getHistory getType setType getComment setComment getAttachment setAttachment getActualEffort setActualEffort super setStatus getStatus setSummary setDetail setLoggedBy getLoggedBy setAssignedTo getAssignedTo setPlannedEffort getPlannedEffort Name fieldName values setValue getValue
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Item.java, This object represents a generic item which can be an issue defect task etc some logic for field accessors and conversion of keys to display values is contained in the AbstractItem class should ideally form backing but convenience Lucene DocumentCreator implementation Item type space sequenceNum history children attachments editReason getRefId Optional  return getSpace getPrefixCode empty getPermittedTransitions user getStatus getEditableFieldList add h if this null new LinkedHashSet History setParent attachment Attachment addRelated relatedItem relationType getRelatedItems setRelatedItems ItemItem itemItem createDocument Document d org apache lucene document Field id getId Store YES Index NO StringBuffer sb getSummary append getDetail length text toString TOKENIZED getLatestHistory out getType setType setSpace getSequenceNum setSequenceNum getHistory setHistory getChildren setChildren getAttachments setAttachments getEditReason setEditReason super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\ItemItem.java, Class that exists purely to hold a single item related another along with integer type indicating the nature of relationship between Item one directional This is used in following cases duplicate depends on and can be for other kinds relationships future this returns i  n keys zero arg constructor ItemItem id relatedItem RELATED DUPLICATE OF DEPENDS ON getRelationText Optional if return relatedTo else duplicateOf dependsOn throw new RuntimeException unknown empty getId setId getItem setItem getRelatedItem setRelatedItem getType setType toString StringBuffer sb append equals o true instanceof false final ii hashCode int
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\ItemRefId.java, Class that exists purely to parse a String into valid item ref id of the form ABC ItemRefId sequenceNum prefixCode getPrefixCode Optional  return empty getSequenceNum refId int pos indexOf if throw new InvalidRefIdException invalid try Long parseLong substring catch NumberFormatException e toUpperCase
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\ItemSearch.java, Object that holds filter criteria when searching for Items and also creates a Hibernate Criteria query to pass the DAO have do this two step process as order by clause conflicts with count if null means aggregate across all spaces will be set in case space is temp working variable hack so has use getCriteriaForCount separately can happen only multi search effectively sort on created date showHistory item id then history apply restrictions parent an inner join ItemSearch user pageSize currentPage resultCount sortFieldName sortDescending batchMode selectedItemId relatingItemRefId itemIds columnHeadings filterCriteriaMap defaultVisibleFlags initFromPageParameters params jtrac Optional  getBoolean getInt sortAscending getString o keySet String name toString ColumnHeading isValidFieldOrColumnName ch getColumnHeading loadFromQueryString visibleFlags cols int i length break char flag charAt setVisible true else false empty getVisibleFlags StringBuilder new isVisible append return getAsQueryString Map map HashMap put s getId getNameText equals PageParameters getCriteria DetachedCriteria parentSpace createCriteria addOrder Order desc asc forClass History class add Restrictions getSelectedSpaces eq Item addRestrictions getFields List Field list ArrayList severity Name SEVERITY initOptions priority PRIORITY getMetadata getFieldList getName getStringValue getFilterCriteria getValue trim setExpression getRefId ID getSearchText DETAIL SPACE values getValues size getSpaces toggleSortDirection getSingletonList setLoggedBy loggedBy LOGGED BY FilterCriteria Expression IN setValues setAssignedTo assignedTo ASSIGNED TO setStatus STATUS getColumnHeadingsToRender isBatchMode setBatchMode getSpace setSpace getUser setUser getPageSize setPageSize getCurrentPage setCurrentPage getResultCount setResultCount getSortFieldName setSortFieldName isSortDescending setSortDescending isShowHistory setShowHistory getSelectedItemId setSelectedItemId getRelatingItemRefId setRelatingItemRefId getItemIds setItemIds getColumnHeadings setColumnHeadings getFilterCriteriaMap setFilterCriteriaMap
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\ItemTag.java, Class that exists purely to hold a single Tag associated with an item along integer type indicating the nature of relationship between Item one directional This is used for allowing have many Tags web style zero arg constructor ItemTag id tag getId Optional  return empty setId this getTag setTag getType setType toString StringBuffer sb new append equals o if true instanceof false final it hashCode int hash
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\ItemUser.java, Class that exists purely to hold a single user associated with an item along integer type indicating the nature of relationship between Item User one directional This is used in following cases users watching and need be notified on Status changes can for other kinds relationships future zero arg constructor ItemUser id getId Optional  return empty setId this getUser setUser getType setType toString StringBuffer sb new append equals o if true instanceof false final iu hashCode int hash
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Metadata.java, XML metadata is one of the interesting design decisions JTrac Metadata defined for each space and so Items that belong to a are customized by This class can marshall unmarshall itself this stored in database single column Because approach be made more complicated future without impact schema Things configures Space custom Fields an Item within Label whether mandatory or not DEPRECATED option values drop down list options key WITHOUT any relationships corresponding s resolved memory from through join Roles available State transitions allowed role fields Role view edit labels state internally States integers but display we need label special New Open Closed order which displayed on data entry screens query result etc There downside there limit nunmbers The existing limits Drop Down Free Text Numeric Date Time inherited allows reuse TODO introducing Admin permissions per slight hack no setters required accessor will used Hibernate set up default simple workflow overwrite if exists List check first get max keys have all important has combined with update improve JtracTest assert null here logic resolving next possible given lookup roleKey integer iterate over add map returned render screen value returning ideal JSTL case MASK HIDDEN getFields put name READONLY return support should never happen trying find editable just fix may optional changes depending user status stands now id version type description parent roles states fieldOrder init Optional  new EnumMap Field Name HashMap String TreeMap Integer LinkedList empty setXmlString xmlString Document document XmlUtils parse Element e selectNodes FIELD XPATH field getName ROLE STATE attributeValue STATUS LABEL parseInt ORDER fieldName NAME convertToName getXmlString d getNewDocument METADATA root getRootElement fs addElement FIELDS addAsChildOf rs ROLES ss STATES Map Entry entrySet addAttribute getKey getValue fo f toString asXML getPrettyXml getAsPrettyXml initRoles NEW OPEN CLOSED addRole DEFAULT toggleTransition getField contains getStates removeField tempName remove addState stateName int maxStatus keySet newStatus removeState stateId roleName renameRole oldRole newRole setName removeRole getUnusedFieldNames EnumSet allFieldNames allOf getAvailableFieldTypes fieldTypes LinkedHashMap fieldType getType else count getNextAvailableField throw RuntimeException No putAll getFieldList ArrayList size getFieldOrder getCustomValue getStatusValue getRoleCount getFieldCount getStateCount getPermittedTransitions roleKeys transition getTransitions getRolesAbleToTransition fromStatus toStatus Boolean true getRolesAbleToTransitionFrom Set HashSet getRoleState stateKey fromState toState switchMask mask switch OPTIONAL MANDATORY getEditableFields Collections singletonList startsWith continue getStatus setOptional getRoleList getRoleKeys getAdminRoleKeys Arrays asList ADMIN getAllRoleKeys addAll getVersion setVersion getDescription setDescription getId setId setType getParent setParent getRolesMap getStatesMap StringBuffer sb append
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Role.java, p In addition to the definition of custom fields link Metadata for a Space may contain bunch Role definitions as well Roles do following ul li define State Transitions possible i e from status each access permissions that this has per field Generated UID The name role description A Map states assigned predefined admin guest This constructor will set param read given Element attribute and then all elements add them map element process end method append object an existing XML document parent apply marshal into fresh new return Returns Copy values Appending empty strings create objects clone support is used verify if roleKey matches ROLE ADMIN string check code true otherwise false GUEST one reserved roles system allows state remove specified id stateId information key or more transitions other States stateKey there are returns allow store null overrides default Object toString representation serialVersionUID addAsChildOf Optional  addElement copyTo getAsElement XmlUtils getNewElement addAttribute NAME isAdmin equals isGuest isReservedRoleKey put getStatus removeState s removeTransition hasTransitionsFromState get getTransitions size getStates setStates getDescription setDescription getName setName StringBuffer sb attributeValue o STATE
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Space.java, A JTrac installation can be divided into different project areas or workspaces The Space entity represents this concept Metdata of a determines the type Items contained within space Users mapped to with access permissions id version prefixCode name description guestAllowed metadata getVersion Optional  return empty setVersion getPrefixCode setPrefixCode getName setName getDescription setDescription getMetadata setMetadata getId setId getType setType isGuestAllowed setGuestAllowed toString StringBuffer sb new append compareTo s if null equals o true instanceof false final hashCode Metadata
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\SpaceSequence.java, Class that exists purely to denormalize the Space entity in database A has a one relationship with SpaceSequence Since nextSeqNum property is going be updated on every new Item insert this kept separate sequence kind of table reduce number updates happen for object id getAndIncrement Optional  return empty getNextSeqNum setNextSeqNum getId setId
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\State.java, p State as in Transition holds a set of possible future states to transition It also map code field name integer mask represent permissions view or edit that the link Role owning this state has for each an item which is particular For example consider FOO and role BAR br When User with views having status ie when fields can be viewed on screen will entries where value MASK READONLY Generated UID The Set transitions other objects Map Field predefined NEW OPEN CLOSED HIDDEN Default empty constructor This param read from given Element attribute Then all Transitions elements are add them Finally element process end method append object existing XML document parent apply marshal into fresh new return Returns Copy values Appending strings create clone support allows fieldNames Collection Name fieldName normally Fields Item editable remove specified toStatus returns allow store overrides default Object toString string representation serialVersionUID OPTIONAL MANDATORY addAsChildOf Optional  e addElement STATE copyTo getAsElement XmlUtils getNewElement addAttribute STATUS Integer t TRANSITION Entry entry entrySet f FIELD NAME getKey getValue int if put addTransition removeTransition getFields setFields getStatus setStatus getTransitions setTransitions StringBuffer sb parseInt attributeValue o String convertToName
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\Tag.java, Represents a Tag as in an Item can be assigned multiple Tags allows for categorization of Items web style id type name description getId Optional  return empty setId this getType setType getName setName getDescription setDescription hashCode int
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\User.java, Standard User entity with attributes such as name password etc The parent relationship is used for easy grouping of users and flexible inheritance permission schemes TODO user type determines if this a normal or group Only groups can have child references We also tie in to the Acegi security framework implement UserDetails interface so that take care Authentication Authorization ACEGI implementation because there rare chance after principal refresh like editing spaces self on saving profile fake roles ROLE GUEST will get saved database method has be called before object when passed space null special significance it return are global returns valid spaceRoles where not role ADMIN sort by Space showing dashboard multiple per sorted map value List keys useful UI display allocated SEARCH NAME LOGIN EMAIL id loginName email metadata locale locked userSpaceRoles addSpaceWithRole roleKey Optional  add new UserSpaceRole empty removeSpaceWithRole remove clearNonPersistentRoles toRemove ArrayList usr isGuest removeAll getRoleKeys String roleKeys s getSpace equals getRoleKey getPermittedTransitions status getMetadata getEditableFieldList getEditableFields getSpaces Set HashSet size isAllocatedToSpace spaceId getId true false isAdminForSpace isSpaceAdmin getSpaceCount isSuperUser contains Role getSpaceRoles Map TreeMap isAdmin put getName values getSpaceRolesMap Long long list isGuestForSpace getUserSpaceRolesBySpaceId getSpacesWhereRoleIsAdmin Collections isAccountNonExpired isAccountNonLocked isLocked getAuthorities toArray GrantedAuthority isCredentialsNonExpired isEnabled getUsername getLoginName getPassword getUserSpaceRoles setUserSpaceRoles getParent setParent setName setPassword getEmail setEmail getLocale setLocale setLocked setMetadata setId getType setType setLoginName toString StringBuffer sb append compareTo u o instanceof final hashCode
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\UserSpaceRole.java, Class that exists purely to hold a ternary mapping of user space role and is also persisted the JTrac authorization access control scheme works as follows if null means this global not applies for getAuthority method used by Acegi returns key appended with spacePrefixCode ACEGI GrantedAuthority implementation zero arg constructor UserSpaceRole id roleKey isAbleToCreateNewItem Optional  return false getPermittedTransitions State NEW size empty isSuperUser isAdmin isSpaceAdmin Role ROLE ADMIN equals isGuest GUEST getPrefixCode getUser setUser getRoleKey setRoleKey getSpace setSpace getId setId o true instanceof final usr hashCode int hash toString
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\domain\\WorkflowRenderer.java, Class that is used to render a workflow the GUI currently designed static HTML crude representation of TODO move this logic into Role classes having better OO transitions roleNames map key string concatenation fromstate tostate for convenience each state union across all roles has already been added tree main recursive function tough validation look forward can role actually transition from toState if not indicate as error red font WorkflowRenderer rolesMap transitionRoles stateTransitions stateNames document init Optional  new TreeMap String Set Integer r values State s getStates get getStatus null HashSet put addAll getTransitions int i transitionKey add getName XmlUtils getNewDocument Element e getRootElement addAttribute name NEW addTransitions empty stateExists return selectNodes size parent boolean exists child addElement mirror true else getDocument getAsString getAsPrettyXml getAsHtml StringBuffer sb List childElements elements stateClass attributeValue append table class tr td rowspan first fromState roleKey toStateKey parseInt CLOSED hasTransitionsFromState span br false toString
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\exception\\InvalidRefIdException.java, Custom exception to denote an invalid Item refId InvalidRefIdException RuntimeException message  super Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\exception\\JtracSecurityException.java, Custom exception to denote any security violation detected JtracSecurityException Exception message  super Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\exception\\SearchQueryParseException.java, Custom exception to handle invalid full text search queries SearchQueryParseException RuntimeException message cause  super Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\hibernate\\HibernateJtracDao.java, DAO Implementation using Spring Hibernate template note usage of the init method and destroy options TODO if we are ordering by a custom column must load whole only trigger in memory sort for drop down fields when querying within space list to do an need find better way UI currently does not allow you field across spaces but check again order was requested on so loaded all results one page pagination should never come here search is multiple join fetch user object even no item has this null items may have history with because parent difference cannot use AbstractItem separate Criteria query value status that automatically configured run startup as spring bean HibernateJtracDao HibernateDaoSupportimplementsJtracDao schemaHelper setSchemaHelper Optional  empty storeItem getHibernateTemplate merge loadItem id return Item get class storeHistory loadHistory History findItems sequenceNum prefixCode Object params new from where itemSearch int pageSize getPageSize Field Name sortFieldName isValidName getSortFieldName convertToName boolean doInMemorySort isDropDownType getSpace List findByCriteria getCriteria isEmpty setResultCount size start getCurrentPage end Math min subList else isBatchMode execute HibernateCallback public doInHibernate Session session clear firstResult DetachedCriteria criteria getCriteriaForCount setProjection Projections rowCount Integer count final getMetadata getField ArrayList String valueList getOptions keySet Comparator comp compare left right leftVal getValue getName leftValString toString leftInd indexOf rightVal rightValString rightInd Collections isSortDescending ComparatorUtils reversedComparator loadCountOfAllItems createCriteria findAllItems batchSize executeFind setCacheMode CacheMode IGNORE setResultTransformer DISTINCT ROOT ENTITY setFetchMode FetchMode JOIN add Restrictions ge long lt removeItem delete removeItemItem itemItem findItemUsersByUser ItemUser iu removeItemUser itemUser storeAttachment attachment storeMetadata metadata loadMetadata Metadata storeSpace loadSpace Space loadUserSpaceRole UserSpaceRole loadNextSequenceNum spaceSequenceId Long flush SpaceSequence ss next getAndIncrement update storeSpaceSequence spaceSequence save findSpacesByPrefixCode findAllSpaces findSpacesNotAllocatedToUser userId select usr name findSpacesWhereIdIn ids findByNamedParam findSpacesWhereGuestAllowed guestAllowed true removeSpace storeUser loadUser User removeUser findAllUsers findUsersWhereIdIn findUsersMatching searchText searchOn ilike MatchMode ANYWHERE addOrder Order asc findUsersByLoginName loginName findUsersByEmail email findUsersNotAllocatedToSpace spaceId findUserRolesForSpace findUsersWithRoleForSpace roleKey userSpaceRoles findSpaceRolesForUser findSuperUsers Role ROLE ADMIN loadCountOfHistoryInvolvingUser loggedBy or assignedTo intValue loadCountsForUser Collection getSpaces CountsHolder ch HibernateTemplate ht loggedByList group getId assignedToList statusList oa addLoggedByMe addAssignedToMe addTotal loadCountsForUserSpace Counts c findUsersForSpace distinct u findUsersForSpaceSet removeUserSpaceRole userSpaceRole findAllConfig loadAll Config storeConfig config loadConfig param loadCountOfRecordsHavingFieldNotNull getSession eq isNotNull itemCount bulkUpdateFieldToNull bulkUpdate set logger info rows historyCount loadCountOfRecordsHavingFieldWithValue optionKey bulkUpdateFieldToNullForValue replaced loadCountOfRecordsHavingStatus bulkUpdateStatusToOpen State OPEN changed bulkUpdateRenameSpaceRole oldRoleKey newRoleKey bulkUpdateDeleteSpaceRole bulkUpdateDeleteItemsForSpace debug deleted records itemItemCount ItemItem createSchema try database schema exists normal catch Exception e warn expected exist will create Error getMessage admin setLoginName setName Admin setEmail setPassword f fc addSpaceWithRole inserting default into creation complete ssList Map ssMap HashMap put max maxSeqNum checking sequence getNextSeqNum fixing number be setNextSeqNum
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\hibernate\\SchemaHelper.java, p Utilities to create the database schema drop and tables by using Hibernate tools This method is normally called at first start of application initialize Logger object DB driver class name url user password hibernate dialect JNDI data source Mapping information allows store param driverClassName The required for specified You can find list supported dialects in documentation hibernateDialect multiple mapping resources mappingResources String array Resources username dataSourceJndiName Create given configuration end if else SchemaHelper logger setDriverClassName Optional  this setHibernateDialect setMappingResources setUrl setUsername setPassword setDataSourceJndiName createSchema Configuration cfg new StringUtils hasText setProperty connection datasource resource addResource info begin creation SchemaUpdate execute true
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\Jtrac.java, Jtrac main business interface Service Layer TODO remove Wicket dep with FileUpload UserDetailsService storeItem item fileUpload Optional empty  storeItems items updateItem user storeHistoryForItem itemId history loadItem id loadItemByRefId refId loadHistory findItems itemSearch loadCountOfAllItems findAllItems firstResult batchSize removeItem removeItemItem itemItem loadCountOfRecordsHavingFieldNotNull space field bulkUpdateFieldToNull loadCountOfRecordsHavingFieldWithValue optionKey bulkUpdateFieldToNullForValue loadCountOfRecordsHavingStatus status bulkUpdateStatusToOpen bulkUpdateRenameSpaceRole oldRoleKey newRoleKey bulkUpdateDeleteSpaceRole roleKey storeUser password sendNotifications removeUser loadUser loginName findAllUsers findUsersWhereIdIn ids findUsersMatching searchText searchOn findUsersForSpace spaceId findUserRolesForSpace loadUserRolesMapForSpace loadSpaceRolesMapForUser userId findUsersWithRoleForSpace findUsersForUser findUsersNotFullyAllocatedToSpace loadCountOfHistoryInvolvingUser loadCountsForUser loadCountsForUserSpace storeSpace loadSpace prefixCode findAllSpaces findSpacesWhereIdIn findSpacesWhereGuestAllowed findSpacesNotFullyAllocatedToUser removeSpace storeUserSpaceRole loadUserSpaceRole removeUserSpaceRole userSpaceRole storeMetadata metadata loadMetadata generatePassword encodeClearText clearText getLocales getDefaultLocale getJtracHome getAttachmentMaxSizeInMb getSessionTimeoutInMinutes loadAllConfig storeConfig config loadConfig param rebuildIndexes batchInfo validateTextSearchQuery text executeHourlyTask executePollingTask getReleaseVersion getReleaseTimestamp
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\JtracDao.java, Jtrac DAO Interface all database access operations JtracDao storeItem item Optional empty loadItem id loadHistory storeHistory history findItems sequenceNum prefixCode itemSearch loadCountOfAllItems findAllItems firstResult batchSize removeItem removeItemItem itemItem findItemUsersByUser user removeItemUser itemUser loadCountOfRecordsHavingFieldNotNull space field bulkUpdateFieldToNull loadCountOfRecordsHavingFieldWithValue optionKey bulkUpdateFieldToNullForValue loadCountOfRecordsHavingStatus status bulkUpdateStatusToOpen bulkUpdateRenameSpaceRole oldRoleKey newRoleKey bulkUpdateDeleteSpaceRole roleKey bulkUpdateDeleteItemsForSpace storeAttachment attachment storeMetadata metadata loadMetadata storeSpace loadSpace findSpacesByPrefixCode findAllSpaces findSpacesNotAllocatedToUser userId findSpacesWhereIdIn ids findSpacesWhereGuestAllowed removeSpace loadNextSequenceNum spaceSequenceId storeSpaceSequence spaceSequence storeUser loadUser removeUser findAllUsers findUsersWhereIdIn findUsersMatching searchText searchOn findUsersByLoginName loginName findUsersByEmail email findUsersForSpace spaceId findUsersNotAllocatedToSpace findUserRolesForSpace findSpaceRolesForUser findUsersWithRoleForSpace findUsersForSpaceSet spaces findSuperUsers loadCountOfHistoryInvolvingUser loadUserSpaceRole removeUserSpaceRole userSpaceRole loadCountsForUser loadCountsForUserSpace findAllConfig storeConfig config loadConfig key
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\JtracImpl.java, Jtrac Service Layer implementation This is where all the business logic For data persistence this delegates to JtracDao has not been factored into util package or a helper class because it depends on PasswordEncoder configured automatically called by spring init method hook startup also whenever config edited refresh TODO move settings reduce service clutter will at moment execute unnecessary updates bug in Hibernate handling of version property se http opensource atlassian com projects hibernate browse HHH timestamp can be set import then retain confirm if above does happen anymore we support CLOSED items for but consistency need do as storeHistoryForItem some role checks simulate item first created OPEN and being so avoid lazy initialization exception merge edits history index apply onto record before change status getEditableFieldList routine current State may null when closing have an throws runtime invalid id Acegi UserDetailsService spaces guest access enabled allocate these well hack effect next line would override loading get space associated metadata since only happens once authentication simplifies lot code later security principal fully prepared hopefully pardonable The downside that there many extra db hits are allocated user caching should alleviate no must better way make unique trying database far possible using object intensive dao storeUser nice generic currently indexed separately from sure good thing maybe gives more flexibility e g fine grained search results every five minutes JtracImpl logger passwordEncoder mailSender indexer indexSearcher messageSource locales defaultLocale releaseVersion releaseTimestamp jtracHome attachmentMaxSizeInMb sessionTimeoutInMinutes setLocaleList array Optional  new LinkedHashMap String localeString Locale locale StringUtils parseLocaleString put getDisplayName info available empty setDao setPasswordEncoder setIndexSearcher setIndexer setMessageSource setReleaseTimestamp setReleaseVersion setJtracHome getJtracHome return getAttachmentMaxSizeInMb getSessionTimeoutInMinutes generatePassword byte ab Random r nextBytes encodePassword substring encodeClearText clearText getLocales getDefaultLocale Map loadAllConfig initDefaultLocale default initMailSender initAttachmentMaxSize attachment maxsize initSessionTimeout session timeout MailSender containsKey warn else s try Integer parseInt catch Exception max size MB getAttachment fileUpload debug fileName AttachmentUtils cleanFileName getClientFileName Attachment setFileName storeAttachment setFilePrefix getId writeToFile File file getFile writeTo throw RuntimeException storeItem History add setAttachment Date now getTimeStamp setTimeStamp setSequenceNum loadNextSequenceNum getSpace isSendNotifications send storeItems Item setSendNotifications false getStatus setStatus setLoggedBy loadUser getLoggedBy setAssignedTo getAssignedTo setComment updateItem update getEditReason itemId loadItem Field field Object value getValue getName setValue setItemUsers getItemUsers loadItemByRefId refId ItemRefId itemRefId List findItems getSequenceNum getPrefixCode loadHistory itemSearch searchText getSearchText Long findItemIdsContainingText setResultCount Collections emptyList setItemIds loadCountOfAllItems findAllItems firstResult batchSize removeItem getRelatingItems ItemItem itemItem removeItemItem getRelatedItems loadCountOfRecordsHavingFieldNotNull bulkUpdateFieldToNull loadCountOfRecordsHavingFieldWithValue optionKey bulkUpdateFieldToNullForValue loadCountOfRecordsHavingStatus bulkUpdateStatusToOpen bulkUpdateRenameSpaceRole oldRoleKey newRoleKey bulkUpdateDeleteSpaceRole roleKey loadUserByUsername loginName User users indexOf findUsersByEmail findUsersByLoginName UsernameNotFoundException found loadUserByUserName success Set Space userSpaces getSpaces findSpacesWhereGuestAllowed contains addSpaceWithRole Role ROLE GUEST UserSpaceRole usr getSpaceRoles isAbleToCreateNewItem clearNonPersistentRoles password sendNotifications setPassword sendUserPassword removeUser ItemUser iu findItemUsersByUser removeItemUser findAllUsers findUsersWhereIdIn ids findUsersMatching searchOn findUsersForSpace spaceId findUserRolesForSpace loadUserRolesMapForSpace list map long userId getUser ArrayList loadSpaceRolesMapForUser findSpaceRolesForUser findUsersWithRoleForSpace findUsersForUser findUsersForSpaceSet userSet LinkedHashSet findUsersNotFullyAllocatedToSpace notAtAllAllocated findUsersNotAllocatedToSpace usrs notFullyAllocated HashSet roleKeys getMetadata getAllRoleKeys processed superUsers findSuperUsers continue boolean isSuperUser isAdmin temp break sort loadCountOfHistoryInvolvingUser loadCountsForUser loadCountsForUserSpace storeUserSpaceRole removeUserSpaceRole userSpaceRole removeSpaceWithRole getRoleKey loadUserSpaceRole loadSpace prefixCode findSpacesByPrefixCode storeSpace newSpace SpaceSequence ss setNextSeqNum setId storeSpaceSequence findAllSpaces findSpacesWhereIdIn findSpacesNotFullyAllocatedToUser findSpacesNotAllocatedToUser removeSpace proceeding delete bulkUpdateDeleteItemsForSpace successfully deleted storeMetadata loadMetadata Config findAllConfig allConfig HashMap c getParam storeConfig isMailConfig isLocaleConfig isAttachmentConfig isSessionTimeoutConfig loadConfig param trim equals rebuildIndexes batchInfo indexes f listFiles deleting existing files int totalSize setTotalSize total lastFetchedId while true processing batch starting getCurrentPosition getBatchSize historyCount getHistory isDebugEnabled getRefId incrementPosition last fetched Id setting isComplete completed position validateTextSearchQuery text validateQuery executeHourlyTask hourly task executePollingbenTask polling getReleaseVersion getReleaseTimestamp
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\lucene\\Indexer.java, Uses Spring Modules Lucene support provides Indexing in classic Template style Indexer LuceneIndexSupport index item Optional  getLuceneIndexTemplate addDocument empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\lucene\\IndexSearcher.java, Uses Spring Modules Lucene support provides Index Searching in classic Template style IndexSearcher LuceneSearchSupport validateQuery text Optional  QueryParser parser new getAnalyzer try Query query parse catch ParseException e return false true empty findItemIdsContainingText LuceneSearchTemplate template getLuceneSearcherTemplate printStackTrace throw SearchQueryParseException getMessage HitExtractor hitExtractor ItemIdHitExtractor search
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\lucene\\ItemIdHitExtractor.java, Uses Spring Modules Lucene support converts a search hit into an Item id which we can later use to load the actual object ItemIdHitExtractor mapHit i document f Optional  String type get if null return equals item new Long else history itemId throw RuntimeException Unexpected lucene result empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\mail\\MailSender.java, Class to handle sending of E mail and pre formatted messages if sender is still null the send methods will not initialize email do anything when called just return immediately we bend rules a little fire off new thread for an message This has advantage slowing down item create update screens i e system returns next screen after submit without blocking been used in production now I guess many JTrac installations worldwide quite while on Tomcat any problems helps lot especially SMTP server slow respond etc additional cosmetic tweaking layout style body tag does work minority clients like gmail thunderbird ItemUtils adds main inline CSS generating content so gracefully degrade TODO make this locale sensitive per recipient prepare Remember TO person prevent duplicate mails workaround Some PSEUDO user no address Because mandatory you can enter set CC sounds complicated but have ensure that be setCC So collect cc items Send only assignee cclist transform it stringarray sent helper setCc from java comp env prefixed JNDI name doesn t already step actually lookup authentication requested MailSender logger prefix url messageSource defaultLocale sendInNewThread Optional  Thread Override public void run debug start try successfull catch Exception error failed headers dump Enumeration getAllHeaders hasMoreElements Header h nextElement info getName getValue end throw RuntimeException fmt key getMessage empty addHeaderAndFooter html StringBuffer sb append type text css table jtrac th td padding left em right toString getItemViewAnchor String itemUrl app getRefId p font family Arial size href getSubject summary getSummary else length substring notifications attempting anchor getAsHtml isDebugEnabled MimeMessage createMimeMessage MimeMessageHelper UTF toPersonEmail setText true setSubject setSentDate Date setFrom getAssignedTo setTo getEmail getLoggedBy List ArrayList getItemUsers ItemUser itemUser equals getUser add toArray sendUserPassword clearText password change notification localeString getLocale Locale StringUtils parseLocaleString loginMailSubject loginMailGreeting loginMailLine class tr background CCCCCC loginName border px solid black getLoginName initMailSenderFromJndi mailSessionJndiName jndi JndiObjectFactoryBean factoryBean setJndiName setResourceRef afterPropertiesSet warn locate session Session getObject JavaMailSenderImpl setSession initialized initMailSenderFromConfig config host get port localhost smtp subject userName username startTls starttls enable initializing adapter int Integer parseInt NumberFormatException integer defaulting setHost setPort Properties props put auth toLowerCase setUsername setPassword setJavaMailProperties jndiname hasText tempUrl base http endsWith hyperlink
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\AttachmentUtils.java, Utils that deal with Attachments upload download and file name String manipulation the client browser could be on Unix or Windows we don t know AttachmentUtils cleanFileName path Optional  int index lastIndexOf if return substring empty getFile attachment jtracHome new File attachments getFilePrefix getFileName
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\DateUtils.java, Date Formatting helper currently date formats are hard coded for the entire app hence use of static SimpleDateFormat instances although they known not to be synchronized DateUtils dateFormat dateTimeFormat format Optional  return null empty formatTimeStamp convert s try parse catch Exception e throw new RuntimeException
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\ExcelUtils.java, Excel Sheet generation helper utility begin header row iterate over list double date ExcelUtils sheet items itemSearch csBold csDate wb getCell col Optional  HSSFRow sheetRow getRow if null createRow HSSFCell cell short createCell return empty setText text setCellType CELL TYPE STRING setEncoding ENCODING UTF setCellValue setDate setCellStyle setDouble value setHeader exportToExcel localizedLabels boolean showHistory isShowHistory List ColumnHeading columnHeadings getColumnHeadingsToRender int for ch isField getLabel get getName AbstractItem item Field field getField switch getType case Double getValue break Date default getCustomValue else ID index History getIndex getRefId SUMMARY getSummary DETAIL h getComment getDetail LOGGED BY getLoggedBy STATUS getStatusValue ASSIGNED TO getAssignedTo TIME STAMP getTimeStamp SPACE getSpace throw new RuntimeException Unexpected name this HSSFWorkbook createSheet jtrac setDefaultColumnWidth HSSFFont fBold createFont setBoldweight BOLDWEIGHT BOLD createCellStyle setFont setDataFormat HSSFDataFormat getBuiltinFormat m d yy
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\ItemUtils.java, Utilities to convert an Item into HTML etc The getAsHtml routine is used diplay item within a tag lib for JSP And we are able re use this send e mail does escaping converts tabs spaces and leading each multi line as many nbsp sequences required inline CSS so that works across most reader clients ItemViewForm itemViewForm null request getAttribute getRemoveRelated HISTORY get the total count first root related items relating summary detail logged by loggedBy addAttribute userId getLoggedBy getId assigned assignedTo getAssignedTo status custom fields timestamp history index historyLoggedBy historyAssignedTo attachment comment ItemUtils logger fixWhiteSpace text Optional  if return String temp HtmlUtils htmlEscape BufferedReader new StringReader StringBuilder sb s boolean true try while readLine false else append br startsWith int i length charAt break substring catch Exception throw RuntimeException toString replaceAll t fmt key messageSource locale getMessage view empty response Locale RequestContextUtils getLocale MessageSource getWebApplicationContext ms loc isWeb tableStyle class jtrac tdStyle thStyle altStyle alt labelStyle label tdCommonStyle border px solid black style collapse font family Arial size background CCCCCC ecfe weight bold align right StringBuffer table width tr td id getRefId relatedItems colspan getRelatedItems getRelatingItems flowUrlParam flowUrl flowExecutionKey flow input type hidden name removeRelated ItemItem itemItem refId getRelatedItem checked Set Long set contains url eventId viewRelated itemId href encodeURL getContextPath checkbox value title remove getRelationText getItem This getStatusValue getName getSummary valign top getDetail row Map Field Name getSpace getMetadata getFields fieldName getFieldOrder field getLabel getCustomValue b th timeStamp List editable getEditableFields getHistory History Attachment getAttachment app attachments getFileName filePrefix getFilePrefix target blank getComment getTimeStamp writeAsXml writer final batchSize totalSize loadCountOfAllItems info firstResult currentItem processing batch starting from current findAllItems getAsXml write debug of completed at position flush itemSearch originalPageSize getPageSize originalCurrentPage getCurrentPage setPageSize setCurrentPage findItems long getResultCount setBatchMode currentPage page finally Element XmlUtils getNewElement addElement relatedItem linkType relatingItems relatingItem addText statusId getStatus Object getValue customField getText isDropDownType optionId DateUtils formatTimeStamp historyRoot event getIndex historyStatus historyAttachment attachmentId historyComment historyTimestamp historyCustomField getItemSearch user params spaceId getLong ItemSearch Space space loadSpace isAllocatedToSpace JtracSecurityException User not allocated in URL initFromPageParameters
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\SvnUtils.java, Utilities that talk to and get data from a Subversion repository using the JavaSvn library skip invalid log entry SvnUtils getRepository url username password Optional  DAVRepositoryFactory setup SVNRepositoryFactoryImpl SVNRepository null SVNNodeKind nodeKind try SVNRepositoryFactory create SVNURL parseURIEncoded ISVNAuthenticationManager authManager SVNWCUtil createDefaultAuthenticationManager setAuthenticationManager checkPath catch Exception e throw new RuntimeException if NONE There is no at else FILE The file while directory was expected return empty getCommitsPerCommitter Collection SVNLogEntry svnLogEntries String getLatestRevision true Date createdDate long now getTime commits Map Integer commitsPerCommitter TreeMap commitsPerFile for getAuthor getDate continue age committer trimName commitsByThisCommitter put in int pos indexOf substring toLowerCase
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\UserUtils.java, routines to filter User UserSpaceRoles collections etc This is a rather deep concept first of course you need restrict the next possible states that an item can be switched based on current state and workflow defined But what about who all it assigned will set users fall into roles have permissions transition FROM being Ouch why view history update screen has Ajaxed so drop down list dynamically change TO used init backing form object in wicket corresponding ItemUser notifyList we do this check as now JTrac supports same user mapped more than once space with different prepare lists for search ui UserUtils filterUsersAbleToTransitionFrom userSpaceRoles Optional  Set String getMetadata getRolesAbleToTransitionFrom List new ArrayList size UserSpaceRole usr if contains getRoleKey add getUser return convertToItemUserList itemUsers HashSet getSpaceNamesMap Map Long map HashMap getUserSpaceRoles getSpace null put getId getName
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\ValidationUtils.java, Helper class that improves on the Spring ValidationUtils for inserting error messages form object fields into view errors underscore allowed should start with letter Only letters are not even numbers and CamelCase dash as word separator isValidSpaceKey input Optional  if null return false matches A Z empty isValidRoleKey isValidLoginName w isValidStateName a z
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\WebUtils.java, utilities for http web related stuff etc WebUtils getDebugStringForCookie cookie Optional  return domain getDomain name getName path getPath value getValue secure getSecure version getVersion maxAge getMaxAge comment getComment empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\util\\XmlUtils.java, Utilities to parse strings into XML DOM Documents and vice versa uses Dom j neatly format a given string by adding indents newlines etc Override that accepts an Document param document as Converts String parsing XmlUtils getAsPrettyXml xmlString Optional  return OutputFormat new true setSuppressDeclaration StringWriter out XMLWriter writer try write finally close catch IOException ioe throw RuntimeException toString trim DocumentHelper parseText DocumentException de getNewElement name createElement empty getNewDocument rootElementName d createDocument addElement transform source stylesheet TransformerFactory factory newInstance Transformer transformer newTransformer DocumentSource DocumentResult result getDocument Exception e
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\web\\AbstractMultiActionController.java, base class for all Spring MVC MultiActionControllers also contains code getting hold of a WebFlow context from request response AbstractMultiActionController MultiActionController jtrac setJtrac Optional  this empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\web\\DefaultMultiActionController.java, spring multiactioncontroller for backwards compatibility with old email links DefaultMultiActionController AbstractMultiActionController itemViewHandler request response Optional  String itemId getParameter return new ModelAndView redirect app item empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\web\\RestMultiActionController.java, Spring MultiActionController that handles REST requests returns XML messages REQUEST HANDLERS custom MethodNameResolver is configured checks the value of an expected paramter called method in request and formats may be form namespace subnamespace action into namespaceSubnamespaceAction or more like a java name override template as crude interceptor here we are doing HTTP basic authentication TODO better security if item null GOD mode error code RestMultiActionController AbstractMultiActionController handleRequestInternal response Optional  authenticate String title Basic realm JTrac Remote API setHeader WWW Authenticate setStatus return else super authHeader getHeader Authorization logger debug auth header false StringTokenizer st new hasMoreTokens nextToken equalsIgnoreCase credentials Base decoder userPass decode getBytes int p indexOf loginName substring password User user jtrac loadUser encoded encodeClearText getPassword equals setAttribute true empty writeXml document getRootElement element initXmlResponse write getWriter applyCacheSeconds setContentType text xml getContent InputStream getInputStream ch ByteArrayOutputStream baos while read byte toByteArray versionGet Document d XmlUtils getNewDocument version Element root addAttribute number getReleaseVersion timestamp getReleaseTimestamp itemGet refId getParameter Item try loadItemByRefId catch InvalidRefIdException e ItemUtils getAsXml itemPut success addElement addText FOOBAR spaceUsersGet prefixCode Space space loadSpace users List findUsersForSpace getId for getLoginName getName itemSearchGet queryString getQueryString parsing ValueMap map RequestUtils decodeParameters decoded getAttribute PageParameters params ItemSearch itemSearch getItemSearch writeAsXml itemAllGet isSuperUser setMethodNameResolver public getHandlerMethodName HttpServletRequest throws NoSuchRequestHandlingMethodException temp StringBuffer sb i length char c charAt append Character toUpperCase toString
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\AttachmentLinkPanel.java, link for downloading an attachment adapted from wicket markup html DownloadLink with the difference that File is instantiated only after onClick AttachmentLinkPanel BasePanel id  super if null add new Label setVisible false return final String fileName getResponse encodeURL getFileName toString Link public void getRequestCycle setRequestTarget IRequestTarget detach RequestCycle requestCycle respond WebResponse r setAttachmentHeader try file AttachmentUtils getFile getJtrac getJtracHome InputStream FileInputStream Streams copy getOutputStream catch IOException e throw RuntimeException finally close FileNotFoundException Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\BasePage.java, base class for all wicket pages this provides a way to access the spring managed service layer as well other convenience common methods also takes care of standard template which is using markup inheritance helper avoid polluting non packages e g excel export import with Wicket i  n BasePage WebPage logger getLocalizedLabels c Optional Map Name String map new EnumMap name values put getLocalizer getString item list getText null return getJtrac JtracApplication get empty getPrincipal JtracSession getUser setCurrentSpace space getCurrentSpace localize key params StringResourceModel m setLocalizer add IndividualHeadPanel setRenderBodyOnly true HeaderPanel jtracVersion getReleaseVersion Label version
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\BasePanel.java, base class for all wicket panels this provides a way to access the spring managed service layer as well other convenience common methods BasePanel Panel logger getJtrac Optional  return JtracApplication get empty getPrincipal JtracSession getUser setCurrentSpace space getCurrentSpace localize key getLocalizer getString null params StringResourceModel m new setLocalizer id super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\CasLoginErrorPage.java, just display an error page CasLoginErrorPage WebPage  String casLogoutUrl JtracApplication get getCasLogoutUrl add new WebMarkupContainer casLogin SimpleAttributeModifier href Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\CasLoginPage.java, only used in case acegi cas authentication is being then will force redirect to configured login page url see JtracApplication java for more details CasLoginPage WebPage  String loginUrl get getCasLoginUrl getRequestCycle setRequestTarget new RedirectRequestTarget Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\CasLogoutPage.java, only used in case acegi cas authentication is being then will force redirect to configured logout page url see JtracApplication java for more details CasLogoutPage WebPage  String logoutUrl get getCasLogoutUrl getRequestCycle setRequestTarget new RedirectRequestTarget Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ConfigFormPage.java, config value edit form Constructor param wicket cancel ConfigFormPage BasePage ConfigForm getValue Optional  return empty setValue this onSubmit getJtrac storeConfig new Config setResponsePage ConfigListPage add id super final BoundCompoundPropertyModel model setModel Label heading localize TextField Link public void onClick
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ConfigListPage.java, This class is responsible to list all configuration parameters It also declares which edit forms will be called modify the Constructor param selectedParam Password value edited Normal text ConfigListPage BasePage  final Map String configMap getJtrac loadAllConfig List params new ArrayList Config getParams SimpleAttributeModifier sam alt add ListView configs protected void populateItem ListItem listItem getModelObject get if equals selected else getIndex Label toLowerCase indexOf password Link link public onClick setResponsePage ConfigPasswordFormPage ConfigFormPage description localize config Optional
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ConfigPasswordFormPage.java, config value edit form Constructor param wicket cancel ConfigPasswordFormPage BasePage ConfigPasswordForm getValue Optional  return empty setValue this onSubmit getJtrac storeConfig new Config setResponsePage ConfigListPage add id super final BoundCompoundPropertyModel model setModel Label heading localize PasswordTextField Link public void onClick
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ConfirmPage.java, reusable confirm warning dialog page wicket form ConfirmPage BasePage ConfirmForm Form lines back onConfirm Optional empty onSubmit  heading this add new Label id super ListView listView Arrays asList protected void populateItem ListItem listItem String line getModelObject Link cancel public onClick setResponsePage
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\CustomFieldsFormPanel.java, This class is responsible for the panel of custom fields that can be reused in item create view forms end method addComponents Constructor param id model space user allows to add components isEditMode bound value Date picker Text field Check if used display edit Double values The following code overwrites default DoubleConverter by Wicket getConverter Class original implementation rounds after three digits right decimal point As there are requirements show six NumberFormat enhanced below DecimalFormat That has been because supports a formatting pattern which use only really needed currently limited CustomFieldsFormPanel BasePanel Optional  ListView listView new protected void populateItem ListItem listItem final Field getModelObject boolean isRequired false isOptional Label label getLabel star nbsp setEscapeModelStrings isDropDownType Fragment f dropDown this Map String options getOptions List keys null ArrayList keySet else DropDownChoice choice IChoiceRenderer public Object getDisplayValue o return get getIdValue int i toString setNullValid true setLabel Model setRequired WebMarkupContainer border ErrorHighlighter bind getName getText isDatePickerType YuiCalendar calendar PropertyModel textField TextField isDecimalNumberType org apache wicket util convert IConverter type converter INSTANCE java text numberFormat getNumberFormat getLocale decimalFormat applyPattern setNumberFormat setReuseItems super getMetadata getFieldList getEditableFieldList
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\DashboardPage.java, dashboard page this can happen if fresh space TODO panelize totals row and reduce redundant code DashboardPage BasePage  final User user getPrincipal setCurrentSpace null List UserSpaceRole spaceRoles new ArrayList getSpaceRoles WebMarkupContainer table message add size CountsHolder countsHolder getJtrac loadCountsForUser hideLogged hideAssigned getId setVisible false ListView dashboardRows protected void populateItem ListItem listItem usr getModelObject Counts counts getCounts get getSpace DashboardRowPanel dashboardRow total Link search public onClick setResponsePage ItemSearchFormPage class loggedByMe ItemSearch itemSearch setLoggedBy ItemListPage getAsQueryString Label PropertyModel totalLoggedByMe assignedToMe setAssignedTo totalAssignedToMe else totalTotal Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\DashboardRowExpandedPanel.java, panel for expanded view of statistics a single space sub totals add one row also rowspan output only first DashboardRowExpandedPanel BasePanel id usr counts  super setOutputMarkupId true final Space getSpace User user getUser Map Integer String states new TreeMap getMetadata getStatesMap remove State NEW int size SimpleAttributeModifier sam List stateKeys ArrayList keySet ListView rows protected void populateItem ListItem listItem if getIndex WebMarkupContainer spaceCell Label name getName prefixCode getPrefixCode newColumn isAbleToCreateNewItem Link public onClick setCurrentSpace setResponsePage ItemFormPage class else setVisible false search ItemSearch itemSearch ItemSearchFormPage getAsQueryString IndicatingAjaxLink link AjaxRequestTarget target DashboardRowPanel dashboardRow this replaceWith addComponent i getModelObject status get getId loggedByMe setLoggedBy setStatus ItemListPage getLoggedByMeForState assignedToMe setAssignedTo getAssignedToMeForState total getTotalForState loggedByMeTotal PropertyModel assignedToMeTotal totalTotal Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\DashboardRowPanel.java, panel for showing the total un expanded statistics a single space will be replaced by view through ajax avoid hitting database again if re expanding setCurrentItemSearch itemSearch DashboardRowPanel BasePanel id usr counts  super setOutputMarkupId true final Space getSpace User user getUser WebMarkupContainer spaceCell new add Label name getName prefixCode getPrefixCode isAbleToCreateNewItem Link public void onClick setCurrentSpace setResponsePage ItemFormPage class else setVisible false search ItemSearch ItemSearchFormPage getAsQueryString IndicatingAjaxLink link AjaxRequestTarget target Counts tempCounts isDetailed getJtrac loadCountsForUserSpace DashboardRowExpandedPanel dashboardRow this replaceWith addComponent getId loggedByMe setLoggedBy ItemListPage PropertyModel assignedToMe setAssignedTo Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\devmode\\DebugHttpSessionStore.java, this is a custom session store for development mode that just extends the wicket http but designed to warn of anything encountered not serializable see mail discussion thread www nabble com Page serialization and reloading don  t get on td html As bonus we log size each item serialized so an idea if bloated needs optimization throw Error sit up take notice DebugHttpSessionStore HttpSessionStore logger banner setAttribute request name value Optional try ByteArrayOutputStream os new ObjectOutputStream stream writeObject close debug bytes getClass getName catch Exception e error failed class Unable serialize super empty application
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\devmode\\ReloadingClassLoader.java, used by ReloadingWicketFilter see class level comment there logger debug loading reloadable name ReloadingClassLoader URLClassLoader watchPatterns ignorePatterns lastReload loadedClasses watch pattern Optional  add Pattern compile empty ignore loadClass Class clazz findLoadedClass if null return mustWatch try super findClass catch ClassNotFoundException exception error getMessage getParent throw new hasChanges for String classRelativeFile getName replaceAll URL url getURLs File classAbsoluteFile getFile exists lastModified change detected file getCanonicalName true false clone matcher matches parent Date getTime Enumeration resources getResources IOException RuntimeException while hasMoreElements addURL nextElement
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\devmode\\ReloadingWicketFilter.java, this is a different approach to reloading instead of using the wicket filter that comes along with See mail discussion thread http www nabble com Reloading on demand  tt html request getSession invalidate ReloadingWicketFilter WicketFilter logger banner reloadingClassLoader filterConfig init Optional super warn empty doGet response if hasChanges debug changes reloadable classes detected clone return getClassLoader new ReloadingClassLoader getClass watch info jtrac
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ErrorHighlighter.java, switches on css styling to highlight invalid form input zero arg constructor ErrorHighlighter AbstractBehavior fc bind c Optional  if instanceof FormComponent empty onComponentTag tag isValid put class error this
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ErrorPage.java, generic error page ErrorPage BasePage message  add new Label heading Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ExcelImportColumnPage.java, choose space to import into avoid lazy init problem TODO reduce code duplication STATE LOGGED BY ASSIGNED TO ExcelImportColumnPage BasePage DistinctCellsView ReadOnlyRefreshingView column excelFile index mappedKeys mappedDisplayValues columnCells choiceRenderer choicesModel initChoices Optional  getJtrac loadSpace getId ColumnHeading ch getColumnHeading if isField getName Name STATUS final Map Integer String options getField getOptionsWithIntegerKeys else getMetadata getStatesMap remove State NEW List keys null new ArrayList keySet IChoiceRenderer public Object getDisplayValue o value get put return getIdValue int i toString AbstractReadOnlyModel getObject User users findUsersForSpace empty getObjectList HashMap IModel getColumnDistinctCellValues populateItem item getIndex add CLASS ALT getModelObject Label label cell setEscapeModelStrings false model Model DropDownChoice choice key setChoiceRenderer setChoices setModel setNullValid true previous FeedbackPanel feedback getSpace getExcelFile this getColumns getClone getColumnCellsCloned labelsMap getLocalizedLabels Form form columnChoice Space s list getColumnHeadings ID SPACE getLabel getNameText PropertyModel columnHeading Button previewButton preview Override void onSubmit Link cancel onClick setResponsePage WebMarkupContainer columnCellsContainer boolean isVisible distinctCellsContainer distinctCells isDropDownType header rows protected Item Cell valueAsString isValid ERROR BACK getKey mapped updateButton update for getValueAsString setKey submitButton submit error localize excel view invalidValue setLabel set setValue setColumnCells id super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ExcelImportPage.java, excel import and cleanup delete convert to date concatenate extract summary into new column duplicate map edit row ExcelImportPage BasePage ColumnCheckboxes ReadOnlyRefreshingView ColumnHeadings RowsListView excelFile action space CLASS SELECTED setSpace Optional  this empty getSpace return getExcelFile getObjectList getColumns populateItem item add Check check PropertyModel index final Column getModelObject if getColumnHeading null Label label cell setRenderBodyOnly true getRows rowItem getIndex ALT List Cell rowCells ListView cols protected void ListItem colItem valueAsString setEscapeModelStrings false FeedbackPanel feedback FileUploadField fileUploadField file Form uploadForm Override public onSubmit getFileUpload InputStream is try getInputStream ExcelFile catch Exception e error localize upload invalidFile boolean isVisible form view noActionSelected switch case isColumnSelected isRowSelected noColumnOrRowSelected deleteSelectedRowsAndColumns break noColumnSelected convertSelectedColumnsToDate getSelectedColumns size atLeastTwoColumns concatenateSelectedColumns extractSummaryFromSelectedColumn duplicateSelectedColumn noSpaceSelected int colIndex get setResponsePage ExcelImportColumnPage noRowSelected rowIndex getSelectedRows ExcelImportRowPage Map Name String labelsMap getLocalizedLabels ColumnHeading getDuplicatedColumnHeadings duplicateMapping getName unMapped getUnMappedColumnHeadings for ch notMapped info jtrac domain Item items getAsItems getJtrac storeItems importSuccess clearSelected selectedSpace AbstractReadOnlyModel Object getObject getPrefixCode Link selectSpace onClick ExcelImportSpacePage Integer LinkedHashMap put selectActionToPerform deleteSelected convertToDate concatenateFields extractFirstEighty duplicateColumn mapToField editRow DropDownChoice actionChoice ArrayList keySet setModel setChoiceRenderer IChoiceRenderer getDisplayValue o i getIdValue CheckGroup colsCheckGroup selectedColumns checks headings rowsCheckGroup selectedRows rows id super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ExcelImportRowPage.java, edit data in a row ExcelImportRowPage BasePage previous index  add new FeedbackPanel feedback Link cancel public void onClick setResponsePage final ExcelFile excelFile getExcelFile List Cell rowCells getRowCellsCloned Form form Override onSubmit setRowCells SimpleAttributeModifier CLASS SELECTED class selected ListView listView cells protected populateItem ListItem item Column column getColumns get getIndex Label heading getLabel cell getModelObject TextArea textArea value setModel IModel Object getObject return getValue setObject o setValue detach setLabel Model ErrorHighlighter if null instanceof Date setType else Double getColumnHeading setEnabled false setReuseItems true Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ExcelImportSpacePage.java, choose space to import into ExcelImportSpacePage BasePage previous  Form form new Override public void onSubmit if null return setSpace setResponsePage add List Space spaces getJtrac findAllSpaces DropDownChoice spaceChoice setModel PropertyModel this setChoiceRenderer IChoiceRenderer Object getDisplayValue o s getName getPrefixCode String getIdValue int i getId setNullValid true Link cancel onClick Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\HeaderPanel.java, header navigation if only one space don t use generic search screen may have come here with back button is acegi cas being used to stateless page reference because session killed HeaderPanel BasePanel  super final User user getPrincipal Space getCurrentSpace List spaces new ArrayList getSpaces add Link dashboard public void onClick setCurrentSpace null setResponsePage DashboardPage class WebMarkupContainer spaceName setVisible false size current get else ItemSearchFormPage Override boolean isVisible return Label getName prefixCode getPrefixCode getPermittedTransitions State NEW ItemFormPage getId options logout login LoginPage JtracSession OptionsPage Cookie cookie jtrac String path WebRequest getRequest getHttpServletRequest getContextPath setPath WebResponse getResponse clearCookie getSession invalidate logger debug invalidated and cleared logoutUrl JtracApplication getCasLogoutUrl authentication clearing security context redirecting SecurityContextHolder clearContext CasLogoutPage LogoutPage PageParameters locale getLocale Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\IndexRebuildPage.java, rebuild indexes admin option wicket form hide the button long running process use thread poll and update progress every seconds reshow page with success message IndexRebuildPage BasePage RebuildIndexesForm Form batchInfo errorMessage complete  if add new Label heading localize index WebMarkupContainer setVisible false else Optional empty id super final setOutputMarkupId true Button start Override public void onSubmit this Thread private transient Jtrac jtrac getJtrac run try rebuildIndexes catch Exception e logger error indexing getMessage AjaxSelfUpdatingTimerBehavior Duration IModel model AbstractReadOnlyModel Object getObject null setResponsePage ErrorPage int total getTotalSize current getCurrentPosition percent return setModel Link cancel onClick OptionsPage class
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\IndicatingDropDownChoice.java, wraps an ajax drop down so that the spinner image shows IndicatingDropDownChoice DropDownChoiceimplementsIAjaxIndicatorAware indicatorAppender getAjaxIndicatorMarkupId Optional  return getMarkupId empty id list cr super add
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\IndividualHeadPanel.java, header navigation Default serialVersionID Constructor based on some condition return the image source IndividualHeadPanel BasePanel serialVersionUID  super individuel final Map String configMap getJtrac loadAllConfig Image img new icon add AttributeModifier src true AbstractReadOnlyModel private static long L public Object getObject urlbase get jtrac url base picture if null equals resources logo gif else message text Label JTrac Open Source Issue Tracking System no Optional
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemFormPage.java, Create Edit item form page end inner class ItemForm Default constructor Constructor with provided id param itemId The Wicket This ensures that the model object is re loaded as part of submission workflow before binding and avoids hibernate lazy loading issues during whole update transaction Summary Delete button avoid init problem Detail Custom fields Hide some components if editing Assigned to Notify list Attachment Send notifications Cancel non Javadoc see org apache wicket markup html Form validate User must have used back after edit onSubmit On creating an clear any search filter especially related from session ItemFormPage BasePage fileUploadField editMode version Optional  reset Item getModelObject getVersion error localize super final FileUpload fileUpload getFileUpload user getPrincipal getJtrac updateItem else setLoggedBy setStatus State OPEN storeItem JtracSession get setItemSearch null setResponsePage ItemViewPage new PageParameters getRefId setSpace getCurrentSpace NEW add loadItem setMultiPart true FeedbackPanel feedback JtracFeedbackMessageFilter setFilter getId BoundCompoundPropertyModel LoadableDetachableModel itemModel protected Object load logger debug attaching existing return setModel TextField summaryField summary setRequired ErrorHighlighter setOutputMarkupId HeaderContributor IHeaderContributor public void renderHead IHeaderResponse response renderOnLoadJavascript document getElementById getMarkupId focus Button delete Override String heading confirm warning line ConfirmPage this onConfirm removeItem ItemSearch itemSearch getItemSearch ItemListPage DashboardPage setDefaultFormProcessing false setVisible TextArea detail CustomFieldsFormPanel getSpace setRenderBodyOnly WebMarkupContainer hideAssignedTo hideNotifyList hideEditReason editReason Space space List UserSpaceRole userSpaceRoles findUserRolesForSpace assignable UserUtils filterUsersAbleToTransitionFrom DropDownChoice choice assignedTo IChoiceRenderer getDisplayValue o getName getIdValue int i setNullValid border ItemUser choices convertToItemUserList ListMultipleChoice itemUsers JtracCheckBoxMultipleChoice getUser setMaxSize Bytes megabytes getAttachmentMaxSizeInMb CheckBox sendNotifications Link cancel onClick
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemListPage.java, item list page ItemListPage BasePage addComponents itemSearch Optional  add new ItemListPanel panel ItemRelatePanel relate false empty params ItemSearch ItemUtils getItemSearch getPrincipal getJtrac JtracSession get setItemSearch
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemListPanel.java, item list panel hack ensure that wicket model attach happens NOW before pagination logic sp PAGINATION XML EXPORT EXCEL HEADER ITEMS this itemSearch getCurrentItemSearch is properly initialized in the LoadableDetachableModel load above return to search form TODO avoid next line refresh only if pageCount temporarily switch off paging of results restore page size cast AbstactItem show history may be true first column ID a special case where we add fragment since have already added instead break so going new Label value after ItemListPanel BasePanel doSort sortFieldName Optional  setCurrentPage getSortFieldName equals toggleSortDirection else setSortFieldName setSortDescending false empty id super itemListModel protected Object logger debug loading from database getJtrac findItems getObject int final pageSize getPageSize long resultCount getResultCount Math ceil double currentPage getCurrentPage Link link count public void onClick setResponsePage ItemSearchFormPage String resultCountMessage recordFound recordsFound localize WebMarkupContainer prevOn ItemListPage prevOff setVisible List Integer pageNumbers ArrayList for i ListView pages populateItem ListItem listItem getModelObject pageNumber pageOn pageOff nextOn nextOff exportToXml getRequestCycle setRequestTarget IRequestTarget respond RequestCycle requestCycle WebResponse r getResponse setAttachmentHeader jtrac export xml ItemUtils writeAsXml OutputStreamWriter getOutputStream detach exportToExcel setPageSize ExcelUtils eu xls try Map Name labels BasePage getLocalizedLabels write catch IOException e throw RuntimeException ColumnHeading columnHeadings getColumnHeadingsToRender headings ch headingLink heading getNameText label isField getLabel getName order isSortDescending down up SimpleAttributeModifier class selectedItemId getSelectedItemId sam alt itemList AbstractItem getId selected getIndex boolean showHistory isShowHistory fieldValues columns IModel null Model getCustomValue getField refId getRefId Fragment refIdFrag setRenderBodyOnly refIdLink BookmarkablePageLink ItemViewPage PageParameters index History SUMMARY PropertyModel summary DETAIL detailFrag detail AttachmentLinkPanel attachment getAttachment comment LOGGED BY loggedBy name STATUS statusValue ASSIGNED TO assignedTo TIME STAMP DateUtils formatTimeStamp getTimeStamp SPACE parent space default Unexpected
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemRelatePanel.java, header that appears only witin relate items use case containing modal window link wicket form ItemRelatePanel BasePanel RelateForm Form refId type comment getType Optional  return empty setType this getComment setComment onSubmit Item item getJtrac loadItemByRefId long itemId ItemViewPage getPage getItemId relatedItem loadItem addRelated setEditReason updateItem getPrincipal JtracSession get setItemSearch null setResponsePage class new PageParameters getRefId id isItemViewPage itemSearch super getRelatingItemRefId if final YuiDialog dialog itemWindow add AjaxLink public void onClick AjaxRequestTarget target show ItemViewPanel CONTENT ID true Label WebMarkupContainer setVisible false message else localize list searchingForRelated Link cancel setModel BoundCompoundPropertyModel Map Integer String options HashMap put DUPLICATE OF view duplicateOf DEPENDS ON dependsOn RELATED relatedTo DropDownChoice choice ArrayList keySet IChoiceRenderer Object getDisplayValue o getIdValue int i toString TextArea commentArea setRequired ErrorHighlighter
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemRelateRemovePage.java, small form only to confirm and capture comment when removing relationship between items TODO refactor duplicate code in ItemViewPanel wicket ItemRelateRemovePage BasePage ConfirmForm Form itemId itemItem getComment Optional  return empty setComment this onSubmit getJtrac removeItemItem Item item loadItem setEditReason updateItem getPrincipal setResponsePage ItemViewPage class new PageParameters getRefId add final String relatingRefId getItem relatedRefId getRelatedItem YuiDialog relatingDialog relatedDialog AjaxLink relating public void onClick AjaxRequestTarget target getId show CONTENT ID true Label refId message null if getType DUPLICATE OF localize view duplicateOf else DEPENDS ON dependsOn RELATED relatedTo related id super setModel BoundCompoundPropertyModel TextArea commentArea setRequired ErrorHighlighter
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemSearchFormPage.java, item search form page ItemSearchFormPage BasePage addComponents itemSearch Optional  add new ItemSearchFormPanel panel ItemRelatePanel relate false empty ItemSearch null Space s getCurrentSpace if JtracSession get getUser else
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemSearchFormPanel.java, item search form panel user can save typing by entering the refId number without space prefixCode oops that didn t work continue always pre select equal to for filter criteria on ID could be null also ItemSearchFormPanel BasePanel itemSearch expandAll addComponents Optional  final Form new add FeedbackPanel feedback setModel CompoundPropertyModel List Integer sizes Arrays asList DropDownChoice pageSizeChoice pageSize IChoiceRenderer public Object getDisplayValue o return localize noLimit toString String getIdValue int i CheckBox showHistory Button Override void onSubmit getRefId if getCurrentSpace try long id Long parseLong getPrefixCode catch Exception e ItemRefId InvalidRefIdException error invalid Item getJtrac loadItemByRefId notFound JtracSession get setItemSearch setResponsePage ItemViewPage class PageParameters searchText getSearchText validateTextSearchQuery summary ItemListPage getAsQueryString Link onClick true boolean isVisible ListView columns getColumnHeadings protected populateItem ListItem listItem ColumnHeading ch getModelObject label isField getLabel list getName Label columnName visible PropertyModel Expression validExpressions getValidFilterExpressions expressionChoice IndicatingDropDownChoice expression key getKey Name getFilterCriteria setExpression EQ getExpression setNullValid Component fragParent getFilterUiFragment setOutputMarkupId AjaxFormComponentUpdatingBehavior onChange onUpdate AjaxRequestTarget target requiresUiFragmentUpdate fragment replace addComponent appendJavascript document getElementById getMarkupId focus empty WebMarkupContainer User getUser Space Jtrac jtrac JtracApplication this super ItemSearch s else getPrincipal
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemViewFormPanel.java, Form to update history for item wicket form validation that assignedTo is not null if status and CLOSED custom fields assigned will be populated over Ajax notify list attachment send notifications have use FormValidator because this conditional across two FormComponents actually we depend on assignedToChoice also but logs a warning when the component visible are doing ajax anyway getInput convertedInput so no danger there user may customized name of State e g i  n reporting error display ItemViewFormPanel BasePanel ItemViewForm filter itemSearch fileUploadField itemId statusChoice validate Optional reset super empty onSubmit final FileUpload fileUpload getFileUpload History getModelObject User JtracSession get getUser setLoggedBy getJtrac storeHistoryForItem setResponsePage ItemViewPage class new PageParameters getRefId id FeedbackPanel feedback JtracFeedbackMessageFilter setFilter add setMultiPart true getId setItemUsers getItemUsers BoundCompoundPropertyModel model setModel TextArea comment setRequired ErrorHighlighter getPrincipal CustomFieldsFormPanel Space space getSpace List UserSpaceRole userSpaceRoles findUserRolesForSpace WebMarkupContainer border setOutputMarkupId hide emptyList ArrayList DropDownChoice IChoiceRenderer public Object getDisplayValue o return getName String getIdValue int setVisible false setNullValid Map Integer statesMap getPermittedTransitions states keySet IndicatingDropDownChoice toString AjaxFormComponentUpdatingBehavior onChange protected void onUpdate AjaxRequestTarget target selectedStatus getFormComponent getConvertedInput else assignable UserUtils filterUsersAbleToTransitionFrom setChoices addComponent ItemUser choices convertToItemUserList ListMultipleChoice itemUsers JtracCheckBoxMultipleChoice FileUploadField file setMaxSize Bytes megabytes getAttachmentMaxSizeInMb CheckBox sendNotifications AbstractFormValidator FormComponent getDependentFormComponents unused trim length closedDisplayName getMetadata getStatusValue localize view
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemViewPage.java, dashboard page this in the form SPACE internal id of type long required for itemRelatePanel user had entered item directly go back to search Edit Only if there is no history related Item Also owner should change it ItemViewPage BasePage itemId getItemId Optional  return empty addComponents final ItemSearch itemSearch JtracSession get getItemSearch add new ItemRelatePanel relate true Link link public void onClick setSelectedItemId getId getRefId null setResponsePage ItemSearchFormPage else ItemListPage setVisible false boolean isRelate getRelatingItemRefId User getPrincipal isAllocatedToSpace getSpace logger debug not allocated space throw RestartResponseAtInterceptPageException ErrorPage class nohistory getHistory List History ArrayList size Map String configMap getJtrac loadAllConfig shouldEdit jtrac edit ItemFormPage getLoggedBy getLoginName equals isSuperUser isAdminForSpace ItemViewPanel itemViewPanel isGuestForSpace WebMarkupContainer itemViewFormPanel ItemViewFormPanel params refId getString parsed from url indexOf loadItemByRefId loadItem Long parseLong
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ItemViewPanel.java, This class is responsible the panel showing item read only view end method addComponents Item Boolean flags to hide links Constructor param id itemId hideLinks allows add components items The link TODO choose specific space for search non Javadoc see org apache wicket markup html list ListView populateItem ListItem looks very similar related block above but display strings could be different and in future handling of inverse bidirectional as well ItemViewPanel BasePanel Optional  new Label refId PropertyModel Link relate public void onClick ItemSearch itemSearch getPrincipal setRelatingItemRefId getRefId setResponsePage ItemSearchFormPage setVisible if getRelatedItems null relatedItems ArrayList protected listItem final ItemItem itemItem getModelObject String message getType DUPLICATE OF localize duplicateOf else DEPENDS ON dependsOn RELATED relatedTo getRelatedItem ItemViewPage PageParameters remove ItemRelateRemovePage getId WebMarkupContainer false getRelatingItems relatingItems duplicateOfThis dependsOnThis relatedToThis getItem status statusValue loggedBy name assignedTo summary detail ItemUtils fixWhiteSpace getDetail setEscapeModelStrings SimpleAttributeModifier sam alt Map Field Name fields getSpace getMetadata getFields getFieldOrder getIndex fieldName field get label getLabel value getCustomValue List editable getEditableFields labels getHistory History history h comment AttachmentLinkPanel attachment getAttachment getComment timeStamp DateUtils formatTimeStamp getTimeStamp getName super getJtrac loadItem this
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\JtracApplication.java, p Main Wicket application for jtrac It holds singleton service layer instance pulled from Spring Logger object This method will the login URL and is used only by CasLoginPage return Returns logout link in HeaderPanel main JtracApplication non Javadoc see org apache wicket protocol http WebApplication init Get hold of spring managed BasePage BasePanel etc how it Check if acegi cas authentication being get reference to be redirect right pages Delegate i  n support resource loader IStringResourceLoader loadStringResource java lang Class String util Locale For performance expects null instead throwing an exception may try re resolve using prefixed variants key Component authorization IAuthorizationStrategy isActionAuthorized Action isInstantiationAuthorized Attempt CAS remember me auto guest access there are public spaces proceed Not authenticated go page Friendly URLs selected matches value set WEB INF applicationContext xml Bookmarkable search results viewing items newSession Request Response newSessionStore The default second level cache session store does not play well with our custom reloading filter so we use a Application getHomePage handles user name password param loginName User or case Exception identify cookies tries code true on successful identification otherwise false end no valid were found logger jtracCasProxyTicketValidator getJtrac Optional empty getApplicationContext getCasLoginUrl getLoginUrl getCasLogoutUrl getLogoutUrl super ServletContext sc getServletContext WebApplicationContextUtils getWebApplicationContext Jtrac getBean JtracCasProxyTicketValidator casProxyTicketValidator info retrieved context catch NoSuchBeanDefinitionException nsbde debug getMessage single sign getResourceSettings addStringResourceLoader new clazz locale style Session getLocale e component isDebugEnabled failed getSecuritySettings setAuthorizationStrategy boolean c class isAssignableFrom JtracSession isAuthenticated checking contains Authentication SecurityContextHolder getContext getAuthentication security initializing setUser getPrincipal attemptRememberMeAutoLogin List Space findSpacesWhereGuestAllowed size space s available guestUser setLoginName setName Guest addSpaceWithRole Role ROLE GUEST forcing requested was getName serviceUrl getServiceProperties getService loginUrl redirectUrl attempting throw RestartResponseAtInterceptPageException RedirectPage else LoginPage mountBookmarkablePage error CasLoginErrorPage LogoutPage svn SvnStatsPage options OptionsPage item form ItemFormPage mount QueryStringUrlCodingStrategy ItemSearchFormPage list ItemListPage IndexedParamUrlCodingStrategy ItemViewPage request response getConfigurationType equalsIgnoreCase DEVELOPMENT warn development mode DebugHttpSessionStore this ISessionStore sessionStore production DashboardPage authenticate UsernamePasswordAuthenticationToken token AuthenticationManager am authenticationManager AuthenticationException ae Cookie WebRequest RequestCycle getRequest getCookies examining cookie WebUtils getDebugStringForCookie equals continue getValue int index indexOf substring encodedPassword loadUserByUsername getPassword success
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\JtracCheckBoxMultipleChoice.java, custom multo select list check box control that is scrollable and selected entries float to the top code adapted from onComponentTagBody implementation of wicket s built in CheckBoxMultipleChoice component JtracCheckBoxMultipleChoice ListMultipleChoice isForSet convertValue ids Optional  List super if return new HashSet else empty markupStream openTag final choices getChoices boolean size StringBuilder buffer selectedBuffer append div class multiselect String getValue hasSelected false Locale locale getLocale for int index Object choice get label getConverter convertToString getChoiceRenderer getDisplayValue null id getIdValue idAttr getInputName display localizeDisplayValues getLocalizer getString this CharSequence escaped Strings escapeMarkup true isSelected whichBuffer input name type checkbox checked isEnabled disabled value br hr replaceComponentTagBody renderer
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\JtracFeedbackMessageFilter.java, custom feedback message filter removes duplicates and works in conjunction with the ErrorHighlighter form component behavior wicket bit too flexible internally created errors are not just Strings but if you added an error using String signature will be JtracFeedbackMessageFilter previous reset Optional  clear empty accept fm null getMessage instanceof else ValidationErrorFeedback contains add return true false
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\JtracReloadingWicketFilter.java, only used in development mode hot deploy modified code as far possible without having to restart webappimport org slf j LoggerFactory ReloadingClassLoader excludePattern springframework acegisecurity JtracReloadingWicketFilter ReloadingWicketFilter logger banner  super warn Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\JtracSession.java, custom wicket session for JTrac this will happen only in development mode when our classloader hack of a filter is operating since the was deserialized by web app server it now different here we just serialize and deserialize memory to get back then cast JtracSession work fine but directly using not good enough some transient fields are lost so have use create new copy over state need from old one downward compatibility may be null versions flip locale if existing reload user details database loadUserByUsername forces hibernate eager load who knows loginName could changed id latest TODO make suck less passed same as WebSession logger currentSpace itemSearch Optional  Session class getClassLoader equals getClass debug classloaders don t match serializing try ByteArrayOutputStream os ObjectOutput oo ObjectOutputStream writeObject close InputStream ByteArrayInputStream toByteArray ObjectInput oi ObjectInputStream Object oldSession readObject oldJtracSession newJtracSession JtracApplication newSession RequestCycle getRequest setCurrentSpace getCurrentSpace setUser getUser setItemSearch getItemSearch set return catch Exception e throw RuntimeException empty getLocale setLocale getJtrac getDefaultLocale getDisplayName StringUtils parseLocaleString refreshPrincipal User temp loadUser getId getLoginName refreshPrincipalIfSameAs isAuthenticated getSpace request super int timeOut getSessionTimeoutInMinutes ServletWebRequest getHttpServletRequest getSession setMaxInactiveInterval
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\LoginPage.java, The JTrac login page end inner class LoginForm Logger object Default constructor Wicket form for the String onSubmit name of user password flag indicating if wants to be remembered or not This method will return allows set entered in param loginName want s as chosen on code true false boolean checked rememberMe Constructor id Intelligently focus appropriate textbox process after hits submit button Login failed success Set Remember me cookie checkbox is days seconds Setup session with principal Proceed bookmarkable default dashboard LoginPage WebPage StatelessForm logger getLoginName Optional  setLoginName this getPassword setPassword isRememberMe setRememberMe null error trimmed length trim and getLocalizer getString User JtracApplication get authenticate Authentication successful else Cookie new jtrac getJtrac encodeClearText setMaxAge path getWebRequestCycle getWebRequest getHttpServletRequest getContextPath setPath getWebResponse addCookie debug remember requested added WebUtils getDebugStringForCookie JtracSession setUser continueToOriginalDestination setResponsePage DashboardPage setVersioned add IndividualHeadPanel setRenderBodyOnly Label title jtracVersion getReleaseVersion version super WebMarkupContainer hide Override public isVisible hasError FeedbackPanel feedback setModel BoundCompoundPropertyModel final TextField loginNameField setOutputMarkupId PasswordTextField passwordField setRequired HeaderContributor IHeaderContributor void renderHead IHeaderResponse response markupId getConvertedInput getMarkupId renderOnLoadJavascript document getElementById CheckBox
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\LogoutPage.java, logout page the session invalidation code is in HeaderPanel LogoutPage WebPage logger params  String locale getString if null getRequestCycle getSession setLocale StringUtils parseLocaleString setVersioned false add new IndividualHeadPanel setRenderBodyOnly true Label title getLocalizer jtracVersion JtracApplication get getJtrac getReleaseVersion version Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\OptionsPage.java, options menu page for the future OptionsPage BasePage  setVersioned false final User user getPrincipal add new Link profile public void onClick UserFormPage setPrevious this setResponsePage boolean isSuperUser isSpaceAdmin getSpacesWhereRoleIsAdmin size users UserListPage setVisible spaces SpaceListPage settings ConfigListPage null indexes IndexRebuildPage import ExcelImportPage Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\ReadOnlyRefreshingView.java, usage requires only passing a list dynamically by overriding ReadOnlyRefreshingView RefreshingView CLASS ALT SELECTED ERROR BACK getObjectList Optional empty getItemModels  List T IModel models new ArrayList size for final o add AbstractReadOnlyModel public Object getObject return iterator id super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\RoleAllocatePanel.java, reused in space allocate and user admin screens RoleAllocatePanel BasePanel choices selected setChoices Optional  this empty getSelected return id super CheckGroup checkGroup new PropertyModel add ListView roleKeys protected void populateItem ListItem listItem String roleKey getModelObject Check checkBox getModel Label
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\RoleDeAllocatePanel.java, reused in space allocate and user admin screens avoid lazy loading problem very rare chance that this is a guest mode TODO have some nice interface for make it impossible to remove the first ensuring there always an role self RoleDeAllocatePanel BasePanel id userSpaceRoles  super add new ListView roleKeys protected void populateItem ListItem roleKeyItem final UserSpaceRole usr getModelObject Label roleKey getRoleKey Button deallocate Override public onSubmit temp getJtrac loadUserSpaceRole getId if null return removeUserSpaceRole JtracSession get refreshPrincipalIfSameAs getUser getPage instanceof UserAllocatePage page setResponsePage getUserId getPrevious else SpaceAllocatePage getSpaceId isSuperUser setVisible false getPrincipal isSpaceAdmin Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpaceAllocatePage.java, space allocate page wicket form function that attempts to pre select roleKey for convenience used on init and also Ajax onChange event User choice super user doesn t need level option newly created prevent recursive stack buildup populate enable button etc avoid lazy problem the cancel SpaceAllocatePage BasePage SpaceAllocateForm Form previous spaceId selectedUserId roleAllocatePanel allocateButton setSelectedUserId Optional  this empty getSpaceId return getPrevious initRoleChoice u List String roleKeys getMetadata getAllRoleKeys s getRoleKeys remove if isSuperUser Role ROLE ADMIN setChoices setEnabled true add new id getJtrac loadUser final BoundCompoundPropertyModel model setModel loadSpace Label label getName getPrefixCode Map Long UserSpaceRole userRolesMap loadUserRolesMapForSpace SimpleAttributeModifier sam class alt ListView usrs ArrayList keySet protected void populateItem ListItem listItem long userId getModelObject get getUser selected else getIndex Link loginName public onClick instanceof UserAllocatePage null setResponsePage getId PropertyModel name RoleDeAllocatePanel roleDeAllocatePanel createNewUser Override UserFormPage setPrevious users findUsersNotFullyAllocatedToSpace DropDownChoice userChoice IChoiceRenderer Object getDisplayValue o getLoginName getIdValue int i setNullValid AjaxFormComponentUpdatingBehavior onUpdate AjaxRequestTarget target getFormComponent getConvertedInput false temp addComponent RoleAllocatePanel setOutputMarkupId Button onSubmit getSelected size storeUserSpaceRole JtracSession refreshPrincipalIfSameAs SpaceListPage setSelectedSpaceId
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpaceFieldFormPage.java, space field edit form wicket delete button only if this is an unsaved or there are no impacted items database will be updated we don t do user may leave without committing metadata change synchronize version else save again get Stale Object Exception internal name label intelligently set focus on right input options validation does option already exist drop down type TODO validate that at least one exists done clone overwrite anyway cancel SpaceFieldFormPage BasePage SpaceFieldForm previous filter optionField addComponents Optional  add new empty getField return setField getOption setOption reset super id FeedbackPanel feedback JtracFeedbackMessageFilter setFilter final BoundCompoundPropertyModel model setModel Button Override public void onSubmit int affectedCount getId getJtrac loadCountOfRecordsHavingFieldNotNull getMetadata removeField getName getText setResponsePage SpaceFieldListPage null String heading localize confirm getLabel getDescription warning line ConfirmPage onConfirm bulkUpdateFieldToNull storeSpace setMetadata loadMetadata setDefaultFormProcessing false getFields containsKey setVisible Label PropertyModel text TextField setRequired true setOutputMarkupId ErrorHighlighter HeaderContributor IHeaderContributor renderHead IHeaderResponse response renderOnLoadJavascript document getElementById getMarkupId WebMarkupContainer hide getType Map optionsMap getOptions HashMap List ArrayList keySet ListView listView protected populateItem ListItem listItem key getModelObject value Link up onClick index indexOf swapIndex size Collections swap LinkedHashMap for s put setOptions SpaceFieldOptionPage AbstractValidator onValidate IValidatable v getValue hasOption error resourceKey optionExists addOption
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpaceFieldListPage.java, space fields add re order page wicket form pre select the drop down for convenience SpaceFieldListPage BasePage SpaceFieldsForm Form previous type getType Optional  return empty setType this selectedFieldName new id super final BoundCompoundPropertyModel model setModel Label name PropertyModel prefixCode SimpleAttributeModifier sam class alt ListView listView getMetadata getFieldList protected void populateItem ListItem listItem Field field getModelObject if getName getText equals selected else getIndex Button up Override public onSubmit List Name fieldOrder getFieldOrder int index indexOf swapIndex size Collections swap setResponsePage text description label String optionsList getOptions null ArrayList values options item option edit f getClone SpaceFieldFormPage Map types getAvailableFieldTypes typesList keySet get DropDownChoice choice IChoiceRenderer Object getDisplayValue o localize typeRemaining getIdValue i toString getNextAvailableField Integer parseInt initOptions back SpaceFormPage setPrevious next SpacePermissionsPage Link cancel onClick OptionsPage instanceof SpaceListPage setSelectedSpaceId getId
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpaceFieldOptionPage.java, space field option edit form wicket delete database has been updated if we don t do this user may leave without committing metadata change synchronize else when save again get Stale Object Exception is an unsaved or there are no impacted items heading label cancel custom backing object that wraps Field required for the create use case SpaceFieldOptionPage BasePage SpaceFieldOptionForm Form SpaceFieldOptionModel previous key addComponents Optional  add new empty onSubmit model getModelObject addOption getOption setResponsePage SpaceFieldFormPage return setOption id super FeedbackPanel feedback modelObject getCustomValue final BoundCompoundPropertyModel setModel Button Override public void int affectedCount getJtrac loadCountOfRecordsHavingFieldWithValue Integer parseInt String localize confirm getLabel warning line ConfirmPage onConfirm getOptions remove bulkUpdateFieldToNullForValue storeSpace setMetadata loadMetadata getMetadata getId setDefaultFormProcessing false Label PropertyModel TextField setRequired true ErrorHighlighter AbstractValidator protected onValidate IValidatable v s getValue hasOption error resourceKey exists Link onClick
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpaceFormPage.java, space edit form wicket delete button only if logged in user may have been allocated to this display name prefix Code validation greater than chars format ok does already exist with same prefixCode description guest allowed hide copy from option cancel link SpaceFormPage BasePage SpaceForm previous copyFrom filter setPrevious Optional  empty getSpace return setSpace getCopyFrom setCopyFrom validate reset super onSubmit null Space temp getJtrac loadSpace getId getMetadata setXmlString getXmlString setResponsePage new SpaceFieldListPage initRoles add id FeedbackPanel feedback JtracFeedbackMessageFilter setFilter final BoundCompoundPropertyModel model setModel Button Override public void String heading localize confirm warning line ConfirmPage onConfirm removeSpace JtracSession get refreshPrincipal SpaceListPage setDefaultFormProcessing false setVisible TextField setRequired true ErrorHighlighter setOutputMarkupId HeaderContributor IHeaderContributor renderHead IHeaderResponse response renderOnLoadJavascript document getElementById getMarkupId focus AbstractValidator protected onValidate IValidatable v s getValue length error resourceKey tooShort tooLong ValidationUtils isValidSpaceKey invalid exists TextArea CheckBox guestAllowed WebMarkupContainer else List spaces findAllSpaces DropDownChoice choice IChoiceRenderer Object getDisplayValue o getName getIdValue int i setNullValid Link onClick OptionsPage instanceof setSelectedSpaceId
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpaceListPage.java, space management page since this admin screen can be seen by admins only allow super users to create new hack override lazy loading SpaceListPage BasePage selectedSpaceId setSelectedSpaceId Optional  empty final User principal getPrincipal add Link public void onClick SpaceFormPage setPrevious setResponsePage setVisible isSuperUser LoadableDetachableModel spaceListModel protected Object load if return getJtrac findAllSpaces else getSpacesWhereRoleIsAdmin SimpleAttributeModifier sam class alt ListView listView spaces populateItem ListItem listItem Space getModelObject getId selected getIndex Label prefixCode PropertyModel name edit temp loadSpace getMetadata getXmlString description allocate SpaceAllocatePage
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpacePermissionsPage.java, space roles and workflow form wicket label heading states colspan fields add state col headings rows init user can customize names even for Closed should never happen back save current may be allocated to this e g name could have changed cancel SpacePermissionsPage BasePage SpacePermissionsForm Form previous  new Optional empty id super Label getName getPrefixCode final Map Integer String statesMap getMetadata getStatesMap SimpleAttributeModifier statesColspan size WebMarkupContainer List Field getFieldList fieldsColspan Button addState Override public void onSubmit setResponsePage SpaceStatePage addRole SpaceRolePage null stateKeysNoNew ArrayList keySet remove State NEW ListView stateHeads protected populateItem ListItem listItem stateKey getModelObject get fieldHeads f field getLabel stateKeys Role getRoleList rowspan yes src resources status green gif no grey readonly mandatory optional hidden altClass class alt boolean firstState getIndex stateClass bdr bottom stateKeyRow roleClass lastRole center role if rowClass editState editStateButton setVisible false else editRoleButton editRole stateKeyCol stateButton toggleTransition OPEN getStates getTransitions contains fieldButton switchMask getText int mask getFields switch case MASK MANDATORY break OPTIONAL READONLY HIDDEN default SpaceFieldListPage isNewSpace getId getJtrac storeSpace JtracSession refreshPrincipal SpaceAllocatePage OptionsPage instanceof SpaceListPage setSelectedSpaceId Link onClick WorkflowRenderer getRolesMap getAsHtml setEscapeModelStrings
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpaceRolePage.java, space role add edit form wicket delete synchronize metadata else when we save again get Stale Object Exception current user may be allocated to this with refresh is an unsaved field or there are no impacted items option validation format ok already exists a reserved name cancel custom backing object that wraps key required for the create use case SpaceRolePage BasePage SpaceRoleForm Form SpaceRoleModel previous roleKey onSubmit Optional  final model getModelObject if null getMetadata addRole getRoleKey setResponsePage new SpacePermissionsPage equals getId String heading localize confirm warning line ConfirmPage public void onConfirm getJtrac bulkUpdateRenameSpaceRole renameRole storeSpace setMetadata loadMetadata JtracSession refreshPrincipal empty return setRoleKey id super FeedbackPanel feedback modelObject BoundCompoundPropertyModel setModel Label label Button Override List User users findUsersWithRoleForSpace int affectedCount size getName bulkUpdateDeleteSpaceRole removeRole setDefaultFormProcessing false getRoleCount setEnabled TextField setRequired true ErrorHighlighter AbstractValidator protected onValidate IValidatable v s getValue ValidationUtils isValidRoleKey error resourceKey invalid getRolesMap containsKey Role isReservedRoleKey Link onClick
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SpaceStatePage.java, space state add edit form wicket stateKey is if new delete synchronize metadata else when we save again get Stale Object Exception this an unsaved field or there are no impacted items option validation format ok already exists cancel custom backing object that wraps key required for the create use case SpaceStatePage BasePage SpaceStateForm Form SpaceStateModel previous stateName onSubmit Optional  model getModelObject getMetadata addState getStateName getStatesMap put setResponsePage SpacePermissionsPage empty return setStateName id super FeedbackPanel feedback modelObject final String BoundCompoundPropertyModel setModel Label label Button Override public void int affectedCount getJtrac loadCountOfRecordsHavingStatus heading localize confirm warning line ConfirmPage onConfirm bulkUpdateStatusToOpen removeState storeSpace setMetadata loadMetadata getId setDefaultFormProcessing false State OPEN CLOSED setEnabled TextField setRequired true ErrorHighlighter AbstractValidator protected onValidate IValidatable v s getValue ValidationUtils isValidStateName error resourceKey invalid containsValue Link onClick
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\SvnStatsPage.java, subversion statistics chart wicket form SvnStatsPage BasePage SvnForm Form hide url loginName password getUrl Optional  return empty setUrl this getLoginName setLoginName getPassword setPassword onSubmit final Map String Integer commitsPerCommitter SvnUtils getCommitsPerCommitter getRepository DefaultCategoryDataset dataset new for Entry entry entrySet addValue getValue Commits getKey List users ArrayList keySet SimpleAttributeModifier sam class alt add ListView protected void populateItem ListItem listItem if getIndex user getModelObject Label commits get JFreeChart ChartFactory createBarChart null PlotOrientation VERTICAL false BufferedDynamicImageResource resource setImage createBufferedImage Image setVisible true setVersioned id super BoundCompoundPropertyModel model setModel TextField setRequired PasswordTextField
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\UserAllocatePage.java, user allocate page wicket form very rare chance that is in guest mode don t allow possibility of this getting saved to DB if super no need for space level admin option make flag used later also the big all spaces button session not an remove he should see can be null role prefixCode map prevent recursive stack buildup show only which within these may fully allocated so trim populate choice enable etc pre select convenience selected at least cancel UserAllocatePage BasePage UserAllocateForm Form previous userId selectedSpaceId roleAllocatePanel allocateButton getUserId Optional  return empty getPrevious setSelectedSpaceId initRoleChoice List String roleKeys getRoleKeys list getMetadata getAllRoleKeys removeAll Role ROLE GUEST isSuperUser ADMIN setChoices setEnabled true add new id final BoundCompoundPropertyModel model setModel FeedbackPanel feedback getJtrac loadUser Label label getName getLoginName Map Long UserSpaceRole spaceRolesMap loadSpaceRolesMapForUser User principal getPrincipal boolean isPrincipalSuperUser allowedSpaces ArrayList keySet else Space s getSpacesWhereRoleIsAdmin long spaceId getId containsKey SimpleAttributeModifier sam class alt ListView protected void populateItem ListItem listItem getModelObject usrs get getSpace getIndex name localize allSpaces WebMarkupContainer setVisible false Link public onClick instanceof SpaceAllocatePage setResponsePage getPrefixCode RoleDeAllocatePanel roleDeAllocatePanel findSpacesNotFullyAllocatedToUser Set set HashSet allowed contains DropDownChoice spaceChoice IChoiceRenderer Object getDisplayValue o getIdValue int i setNullValid AjaxFormComponentUpdatingBehavior onChange onUpdate AjaxRequestTarget target getFormComponent getConvertedInput temp loadSpace addComponent RoleAllocatePanel setOutputMarkupId Button Override onSubmit getSelected size roleKey storeUserSpaceRole JtracSession refreshPrincipalIfSameAs makeAdmin UserListPage setSelectedUserId
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\UserFormPage.java, user edit form wicket load backing object in same transaction as onSubmit only way you can delete someone else is if are an admin don t show the locked checkbox when creating new button logged may have been allocated to space with this assigned and of course allow deleting self or slightly special default login name validation does already exist loginName no strange characters locking email locale hide e mail message password confirm do passwords match send notifications cancel link avoid lazy initialization exception generate TODO refactor better but for now so that newly created appears drop down allocation preselected UserFormPage BasePage UserForm previous passwordConfirm sendNotifications filter setPrevious Optional  empty getUser return setUser getPassword setPassword getPasswordConfirm setPasswordConfirm isSendNotifications setSendNotifications process getId getJtrac loadUser super validate reset null storeUser true JtracSession get refreshPrincipalIfSameAs UserListPage page setSelectedUserId setResponsePage instanceof SpaceAllocatePage sap getSpaceId getPrevious User setLocale getDefaultLocale add id FeedbackPanel feedback JtracFeedbackMessageFilter setFilter final BoundCompoundPropertyModel model setModel Button Override public void int count loadCountOfHistoryInvolvingUser error localize notPossible String heading line warning ConfirmPage onConfirm removeUser refreshPrincipal setDefaultFormProcessing false getPrincipal isSuperUser setVisible TextField setRequired ErrorHighlighter setOutputMarkupId HeaderContributor IHeaderContributor renderHead IHeaderResponse response renderOnLoadJavascript document getElementById getMarkupId focus AbstractValidator protected onValidate IValidatable v s getValue temp resourceKey loginId exists ValidationUtils isValidLoginName invalid WebMarkupContainer CheckBox Map locales getLocales List localeKeys ArrayList keySet DropDownChoice localeChoice IChoiceRenderer Object getDisplayValue o getIdValue i toString PasswordTextField passwordField confirmPasswordField AbstractFormValidator FormComponent getDependentFormComponents Form a getConvertedInput b equals hideSendNotifications Link onClick OptionsPage
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\UserListPage.java, user management page first time loaded don t query wicket form to match i key setResponsePage UserListPage this BasePage SearchForm Form selectedUserId searchText searchOn setSelectedUserId Optional  empty getSearchText return setSearchText getSearchOn setSearchOn onSubmit add new Link create public void onClick UserFormPage setPrevious LoadableDetachableModel userListModel protected Object load if null getJtrac findAllUsers else equals findUsersMatching final SimpleAttributeModifier sam class alt ListView listView users populateItem ListItem listItem User getModelObject getId selected getIndex Label name PropertyModel loginName email locale WebMarkupContainer locked setVisible isLocked edit allocate UserAllocatePage id super setModel CompoundPropertyModel List String searchOnOptions Arrays asList DropDownChoice searchOnChoice IChoiceRenderer getDisplayValue o s userName localize list getIdValue int toString TextField searchTextField setOutputMarkupId true HeaderContributor IHeaderContributor renderHead IHeaderResponse response renderOnLoadJavascript document getElementById getMarkupId focus
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\yui\\YuiCalendar.java, yui date picker panel YuiCalendar FormComponentPanelimplementsIHeaderContributor dateField container updateModel Optional  empty getCalendarId return getMarkupId getInputId getContainerId renderHead response String calendarId renderOnDomReadyJavascript init renderJavascript function new YAHOO widget Calendar selectEvent subscribe handleSelect true null id model required super add HeaderContributor forJavaScript resources yahoo min js event dom calendar utils forCss assets css TextField field Date class Override public IConverter getConverter Class clazz AbstractConverter private DateFormat df SimpleDateFormat yyyy MM dd Object convertToObject s Locale locale if trim length try parse catch Exception e throw ConversionException protected getTargetType convertToString o d format IModel getLabel this setOutputMarkupId setRequired ErrorHighlighter final WebMarkupContainer button AttributeModifier onclick AbstractReadOnlyModel getObject showCalendar
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\yui\\YuiDialog.java, custom wicketized yahoo ui dialog widget for Wicket Ajax Yahoo Dialog using the contributor and onDomReady helper handles rare case that is visible user refreshes backing page possible as not modal so in special this javascript called at load but usual request behaves just like AjaxRequestTarget appendJavascript YuiDialog Panel CONTENT ID heading getHeading Optional  return empty setHeading show target h content addComponent setVisible true replace final String markupId getMarkupId add new HeaderContributor IHeaderContributor public void renderHead IHeaderResponse response renderOnDomReadyJavascript var YAHOO ResizeDialog constraintoviewport render id super forJavaScript resources yui min js event dom dragdrop container resize forCss assets css setOutputMarkupId WebMarkupContainer false Label PropertyModel
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\yui\\YuiPanel.java, custom wicketized yahoo ui panel widget YuiPanel Panel CONTENT ID dialog getDefaultConfig Optional  Map String Object map new HashMap put constraintoviewport true visible false return empty getShowScript getMarkupId show getHideScript hide id heading content customConfig super final config if null putAll add HeaderContributor forJavaScript resources yui min js event dom dragdrop container forCss assets css WebMarkupContainer setOutputMarkupId Label IHeaderContributor public void renderHead IHeaderResponse response markupId renderJavascript var renderOnDomReadyJavascript YAHOO YuiUtils getJson render
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\main\\java\\info\\jtrac\\wicket\\yui\\YuiUtils.java, utilities for doing some javascript stuff e g basic JSON serialization custom Map to converter TODO support values that should not be treated like strings quoted YuiUtils getJson map Optional  StringBuilder sb new append boolean firstTime true Entry entry entrySet if false else getKey Object value getValue instanceof String return toString
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\domain\\CountsTest.java, CountsTest TestCase testCountsLogic Optional  Counts c new false add ASSIGNED TO ME assertEquals getTotal getAssignedToMe empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\domain\\ExcelFileTest.java, ExcelFile ef new FileInputStream src test resources data xls ExcelFileTest TestCase testLoadFile Optional  empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\domain\\FieldTest.java, expected FieldTest TestCase testSetValidName Optional  Field field new setName cusInt assertEquals getName toString empty testSetInValidNameFails try foo fail How did we set an invalid name catch Exception e testConstructFromXml Document d XmlUtils parse label Test Label getRootElement getLabel isOptional false testConstructFromXmlWithOptionalAttribute optional true assertTrue testGetAsXml setLabel Element getAsElement attributeValue
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\domain\\ItemTest.java, ItemTest TestCase testSetAndGetForCustomInteger Optional  Item item new setCusInt assertEquals getCusInt intValue empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\domain\\MetadataTest.java, now make the field editable for given state and role query fields across all roles DEFAULT when status is OPEN should be open MetadataTest TestCase getMetadata Optional  Metadata metadata new String xmlString name cusInt label Test Label setXmlString return empty testGetFieldByName m Field f getField assertEquals getLabel testGetFieldsFromXml Map Name getFields assertTrue size fa values toArray getName testMetadataInheritance setParent Set names getUnusedFieldNames contains CUS INT false length testInitRolesThenAddRolesAndStates initRoles New Open Closed available by default getStateCount getRoleCount add getFieldCount getStatusValue testGetEditableFields STR List getEditableFields State switchMask cusStr
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\domain\\RoleTest.java, RoleTest TestCase testConstructFromXml Optional  Document d XmlUtils parse role name TESTER state status transition field cusInt mask Role new getRootElement assertEquals getName getStates size State s get getTransitions assertTrue contains getFields Integer Field Name CUS INT empty testForReservedRoleNames isReservedRoleKey ROLE ADMIN GUEST assertFalse FOO
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\domain\\UserTest.java, UserTest TestCase testGetAuthoritiesFromUserSpaceRoles Optional  Space s new setPrefixCode SPACE ONE User u setLoginName test addSpaceWithRole ROLE TWO null ADMIN setId GrantedAuthority gas getAuthorities Set String set HashSet for ga add getAuthority assertEquals length assertTrue contains empty testCheckIfAdminForAllSpaces isSuperUser
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\JtracTest.java, JUnit test cases for the business implementation as well DAO Tests assume that a database is available and with HSQLDB around this not an issue now email sending switched on next step will internally try to render item Html e mail can we remove i another user watch admin exists also JtracTest JtracTestBase getSpace Optional  Space space new setPrefixCode TEST setName Test return empty getMetadata Metadata metadata String xmlString fields field name cusInt label Label setXmlString cleanDatabase jdbcTemplate execute delete from roles where id deleteFromTables history items spaces sequence users testGeneratedPasswordIsAlwaysDifferent p jtrac generatePassword assertTrue equals testEncodeClearTextPassword assertEquals f fc encodeClearText testMetadataInsertAndLoad m storeMetadata getId loadMetadata null Map Field Name getFields size testUserInsertAndLoad User setLoginName setEmail com storeUser loadUser getEmail dao findUsersByEmail get getLoginName testUserSpaceRolesInsert setMetadata storeSpace addSpaceWithRole ROLE u GrantedAuthority gas getAuthorities length getAuthority List UserSpaceRole userSpaceRoles findUserRolesForSpace usr getUser getRoleKey findUsersForUser findUsersForSpace testConfigStoreAndLoad Config config testParam testValue storeConfig value loadConfig testStoreAndLoadUserWithAdminRole ADMIN UserDetails ud loadUserByUsername Set set HashSet ga add contains testDefaultAdminUserHasAdminRole testItemInsertAndCounts s DEFAULT Item setSpace setAssignedTo setLoggedBy setStatus State CLOSED storeItem getSequenceNum CountsHolder ch loadCountsForUser getTotalAssignedToMe getTotalLoggedByMe getTotalTotal Counts c getCounts getLoggedByMe getAssignedToMe getTotal testRemoveSpaceRoleDoesNotOrphanDatabaseRecord long spaceId queryForLong select loadUserSpaceRole removeUserSpaceRole setComplete endTransaction queryForInt count testFindSpacesWhereGuestAllowed setGuestAllowed true findSpacesWhereGuestAllowed testRenameSpaceRole role key bulkUpdateRenameSpaceRole NEWDEFAULT testGetItemAsHtmlDoesNotThrowException server host dummyhost rendered ItemUtils getAsXml asXML refId testDeleteItemThatHasRelatedItems dummy addRelated ItemItem DEPENDS ON DUPLICATE OF loadCountOfHistoryInvolvingUser temp loadItem removeItem testDeletingUserDeletesItemUsersAlso w ItemUser iu ius setItemUsers startNewTransaction removeUser dummyItem getItemUsers testLogicToFindNotUsersAndSpacesNotAllocated initRoles list findSpacesNotFullyAllocatedToUser storeUserSpaceRole findUsersNotFullyAllocatedToSpace logger info testFindSuperUsers findSuperUsers testLoadSpaceRolesMapForUser Long map loadSpaceRolesMapForUser super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\JtracTestBase.java, base class for tests that can test either the service layer or dao both using Spring JUnit helper with long name ensures applicationContext is only built once magically autowired by support JtracTestBase AbstractTransactionalDataSourceSpringContextTests jtrac setDao Optional  this setJtrac getConfigLocations System setProperty home target return new String file src main webapp WEB INF xml lucene empty super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\lucene\\IndexSearcherTest.java, IndexSearcherTest TestCase context setUp Optional  File home new target if exists mkdir file indexes else for f listFiles delete System setProperty jtrac getAbsolutePath FileSystemXmlApplicationContext src main webapp WEB INF applicationContext lucene xml empty testFindItemIdsBySearchingWithinSummaryAndDetailFields Item item setId setSummary this is a test summary setDetail the quick brown fox jumped over lazy dogs Indexer indexer getBean index IndexSearcher searcher indexSearcher List list findItemIdsContainingText assertEquals size foo testIfUmlautsCanBeIndexedAndSearchedFor does not contain an umlaut there right here mlaut
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\selenium\\AllTest.java, AllTest SeleniumTestCase testGetLoginPage Optional  selenium open http localhost jtrac app login assertEquals JTrac Login getTitle empty testSuccessfulLogin type loginName admin password clickAndWait input value Submit assertTextPresent DASHBOARD testCreateNewSpaceAndAllocateAdmin link OPTIONS Options Menu Manage Spaces Space List Create New Details space name Test prefixCode TEST Next Custom Fields for Roles Save Users Allocated To check roleAllocatePanel checkGroup Allocate Admin testCreateNewItem img title NEW Summary summary detail Detail select hideAssignedTo border assignedTo testSearchAllContainsItem SEARCH Show History Search Record Found testUpdateHistoryForItem status Closed comment Comment testCreateNewUser and allocated User user testuser email foo bar com testLogout LOGOUT Logout Successful stopSelenium super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\selenium\\SeleniumTestCase.java, base class for Selenium test scripts that hack JUnit so as to be able run methods in the order which they appear source file If name is AllTest java following boiler plate must included I said this was a static clazz public String super custom extension of automatically wait page load after clicking button or link SeleniumTestCase TestCase ThreadLocalSelenium ThreadLocal JtracSelenium DefaultSelenium threadLocalSelenium selenium server suite Optional  new Constructor constructor getDeclaredConstructors Method getMethods TestSuite s m if getName startsWith Test newInstance Object addTest return empty setUp get assertTextPresent text assertTrue isTextPresent stopSelenium stop initialValue try SeleniumServer start catch Exception e throw RuntimeException localhost getDefaultPort iexplore http jtrac clickAndWait locator click waitForPageToLoad host port browser url
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\svn\\SvnTest.java, public void testSvn throws Exception String url https adms satyam com svn jtrac trunk name pt password DAVRepositoryFactory setup SVNRepositoryFactoryImpl SVNRepository repository SVNRepositoryFactory create SVNURL parseURIEncoded ISVNAuthenticationManager authManager SVNWCUtil createDefaultAuthenticationManager setAuthenticationManager SVNNodeKind nodeKind checkPath if NONE System err println There is no entry at exit else FILE The a file while directory was expected out Repository Root getRepositoryRoot true UUID getRepositoryUUID listEntries long latestRevision getLatestRevision latest revision private static path SVNException Collection entries getDir null Iterator iterator hasNext SVNDirEntry next equals getName author getAuthor getRevision getKind DIR SvnTest TestCase testNothing Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\test\\SingleMethodRunnerTestCase.java, This class is for development convenience and runs only a single method in test case since NetBeans does not support this at the moment creates TestSuite adds specified given as System property code name return testSuite The containing throws Exception SingleMethodRunnerTestCase TestCase suite Optional  new String getProperty Test JtracTest addTest
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\util\\ItemUtilsTest.java, ItemUtilsTest TestCase testHtmlEscaping Optional  assertEquals nbsp ItemUtils fixWhiteSpace t Hello World null br nWorld n Everyone tEveryone tWorld empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\util\\JtracConfigurerTest.java, TODO JtracConfigurerTest TestCase testUserDir Optional  empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\util\\ValidationUtilsTest.java, ValidationUtilsTest TestCase testValidateSpaceKey Optional  assertTrue ValidationUtils isValidSpaceKey ABCD AB CD assertFalse empty testValidateRoleKey isValidRoleKey ABcD EFG CDE ABCDEF testValidateLoginName isValidLoginName abcd ab cd Ab Cd abc def com testValidateStateName isValidStateName Abcd Efgh Hijk AbcdEfgh bcd
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\util\\XmlUtilsTest.java, expected XmlUtilsTest TestCase testXmlStringParse Optional  String s test Document d XmlUtils parse assertTrue getRootElement getName equals empty testBadXmlParseFails foo try fail How did we invalid XML catch Exception e testGetAsPrettyXml root node data result getAsPrettyXml n
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac\\src\\test\\java\\info\\jtrac\\wicket\\yui\\YuiUtilsTest.java, YuiUtilsTest TestCase testJsonConversion Optional  Map String Object map new HashMap put foo true bar false assertEquals YuiUtils getJson empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\domain\\Item.java, may be new item Item refId summary detail loggedBy assignedTo getAsXml Optional  Document d XmlUtils getNewDocument Element root getRootElement if null addAttribute addElement addText return asXML empty getRefId setRefId this getSummary setSummary getDetail setDetail getLoggedBy setLoggedBy getAssignedTo setAssignedTo getText
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\domain\\ItemRefId.java, ItemRefId sequenceNum prefixCode getPrefixCode Optional  return empty getSequenceNum refId int pos indexOf if throw new InvalidRefIdException invalid ref id try Long parseLong substring catch NumberFormatException e toUpperCase
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\domain\\JtracDocument.java, JtracDocument document getDocument Optional  return empty getText xpath Node n selectSingleNode if null getStringValue this
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\domain\\JtracVersion.java, JtracVersion number timestamp getNumber Optional  return empty setNumber this getTimestamp setTimestamp d getText version if null throw new RuntimeException Unexpected XML response from server
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\domain\\Success.java, Success map getValue key Optional  return get empty d Element root getRootElement if getName equals success throw new RuntimeException Unexpected XML from server for e List elements put getTextTrim
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\exception\\HttpException.java, HttpException Exception message  super Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\exception\\InvalidRefIdException.java, InvalidRefIdException Exception message  super Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracAttachmentHandler.java, TODO Auto generated method stub JtracAttachmentHandler AbstractAttachmentHandler connector canDeprecate repository attachment Optional  return false empty canDownloadAttachment task canUploadAttachment getAttachmentAsStream monitor null updateAttachment uploadAttachment comment this
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracAttributeFactory.java, TODO Auto generated method stub JtracAttributeFactory AbstractAttributeFactory getDateForAttributeType attributeKey dateString Optional  return null empty getName key isHidden false isReadOnly mapCommonAttributeKey
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracClient.java, this class has the responsibility of communicating with a JTrac server repository over HTTP S Messages are Plain Old XML POX and requests made REST style as GET POST depending on complexity input parameters JtracClient httpClient repoUrl username password proxy doGet url Optional  HttpMethod get new GetMethod String response null int code try executeMethod if HttpURLConnection OK throw HttpException Response Code getResponseBodyAsString finally releaseConnection return empty doPost message PostMethod post setRequestEntity StringRequestEntity text xml UTF getJtracVersion RequestUri uri version JtracVersion XmlUtils parseJtrac putItem item put getAsXml Success success parse getValue refId
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracPlugin.java, JTrac Mylar Connector core plugin class headless Returns the path of local config file used for storing repository details JtracPlugin Plugin PLUGIN ID connector getConnector Optional  return empty setConnector this getDefault start context super new JtracRepositoryConnector stop if null getConfigFilePath IPath stateLocation Platform getStateLocation getBundle configFile append repositories xml
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracRepositoryConnector.java, the heart of mylar connector TODO set creation date like trac Auto generated method stub JtracRepositoryConnector AbstractRepositoryConnector UI LABEL REPO TYPE taskRepositoryListener taskDataHandler attachmentHandler stop Optional  if null writeConfig empty getTaskRepositoryListener File configFile JtracPlugin getDefault getConfigFilePath toFile new JtracTaskRepositoryListener return canCreateNewTask repository true canCreateTaskFromKey createTask repositoryUrl refId summary JtracTask getAttachmentHandler getConnectorKind getLabel getRepositoryUrlFromTaskUrl taskFullUrl getTaskDataHandler getTaskIdFromTaskUrl getTaskUrl taskId markStaleTasks tasks monitor false performQuery query resultCollector updateAttributes updateTaskFromRepository repositoryTask updateTaskFromTaskData taskData
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracRepositoryQuery.java, TODO assert query url like trac JtracRepositoryQuery AbstractRepositoryQuery getRepositoryKind Optional  return JtracRepositoryConnector REPO TYPE empty repositoryUrl queryUrl description super setRepositoryUrl setUrl
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracTask.java, TODO rename to JtracTask Auto generated method stub AbstractTask URI APP ITEM getConnectorKind Optional  return null empty isLocal false repositoryUrl refId label super setUrl
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracTaskDataHandler.java, TODO Auto generated method stub JtracTaskDataHandler AbstractTaskDataHandler connector attributeFactory getAttributeFactory repositoryUrl repositoryKind taskKind Optional  return empty taskData getRepositoryUrl getRepositoryKind getTaskKind getSubTaskIds Collections emptySet getTaskData repository taskId monitor RepositoryTaskData new JtracRepositoryConnector REPO TYPE getUrl initializeTaskData data false postTaskData null this
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\JtracTaskRepositoryListener.java, TODO Auto generated method stub caching JtracTaskRepositoryListener configFile repositoriesRead Optional  empty repositoryAdded repository repositoryRemoved repositorySettingsChanged getClient repo return new JtracClient getUrl getUserName getPassword getProxy readConfig writeConfig this
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\RequestUri.java, RequestUri method parameters addParameter key value Optional  put empty toString StringBuilder sb new api append for Map Entry String entry entrySet getKey getValue return this
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\editor\\JtracNewRepositoryTaskEditor.java, JtracNewRepositoryTaskEditor AbstractNewRepositoryTaskEditor editor  super Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\editor\\JtracRepositoryTaskEditor.java, JtracRepositoryTaskEditor AbstractRepositoryTaskEditor validateInput Optional empty editor  super
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\editor\\JtracTaskEditorFactory.java, TODO look at trac for item that does not yet exist on the server JtracTaskEditorFactory AbstractTaskEditorFactory canCreateEditorFor task Optional  return instanceof JtracTask empty input if RepositoryTaskEditorInput existingInput getTaskData null JtracRepositoryConnector REPO TYPE equals getRepository getConnectorKind else TaskEditorInput taskInput getTask false createEditor parentEditor editorInput new JtracRepositoryTaskEditor JtracNewRepositoryTaskEditor createEditorInput repositoryTask TaskRepository repository TasksUiPlugin getRepositoryManager getRepositoryUrl getHandleIdentifier getUrl getTitle JTrac
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\JtracRepositoryConnectorUi.java, main plugin entry point JtracRepositoryConnectorUi AbstractRepositoryConnectorUi getConnectorKind Optional  return JtracRepositoryConnector REPO TYPE empty getNewTaskWizard taskRepository new JtracNewTaskWizard getQueryWizard repository queryToEdit JtracQueryWizard getSettingsPage JtracRepositorySettingsPage this hasSearchPage true
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\JtracTaskListFactory.java, TODO rename to TaskListFactory JtracTaskListFactory AbstractTaskListFactory KEY JTRAC TASK QUERY canCreate task Optional  return instanceof JtracTask empty createTask repositoryUrl taskId label element new getTaskElementName
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\JtracUiPlugin.java, this has to be refactored into headless later JtracUiPlugin AbstractUIPlugin PLUGIN ID uiPlugin start context Optional  super JtracPlugin plugin new TasksUiPlugin getRepositoryManager addListener getDefault getConnector getTaskRepositoryListener empty stop removeListener null return
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\wizard\\JtracNewTaskPage.java, JtracNewTaskPage WizardPage taskRepository repositoryTaskData spacesCombo createControl parent Optional  Composite composite new SWT NONE setLayout GridLayout false Label label setText Choose Space Combo READ ONLY setItems String TEST FOO BAR setControl empty getSelectedSpaceKey return getText super JTrac New Task setDescription Select the in which to create a task this
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\wizard\\JtracNewTaskWizard.java, TODO see if this needs to go into NewTaskPage like trac JtracNewTaskWizard WizardimplementsINewWizard taskRepository newTaskPage init workbench selection Optional empty addPages  new JtracNewTaskPage setWizard addPage canFinish return true performFinish JtracRepositoryConnector connector JtracPlugin getDefault getConnector JtracTaskDataHandler taskDataHandler getTaskDataHandler RepositoryTaskData repositoryTaskData getAttributeFactory REPO TYPE getUrl TasksUiPlugin getNextNewRepositoryTaskId NewTaskEditorInput editorInput IWorkbenchPage page PlatformUI getWorkbench getActiveWorkbenchWindow getActivePage TasksUiUtil openEditor TaskEditor ID EDITOR setWindowTitle JTrac New Task Wizard
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\wizard\\JtracQueryPage.java, JtracQueryPage WizardPage createControl parent Optional empty  super JTrac Query Page
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\wizard\\JtracQueryWizard.java, JtracQueryWizard Wizard queryPage addPages Optional  new JtracQueryPage setWizard this addPage empty performFinish return true setWindowTitle New JTrac Query
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\ui\\wizard\\JtracRepositorySettingsPage.java, JtracRepositorySettingsPage AbstractRepositorySettingsPage JtracValidator Validator repositoryUrl username password proxy createAdditionalControls parent Optional  for RepositoryTemplate template connector getTemplates serverUrlCombo add empty isValidUrl name if startsWith URL PREFIX HTTPS HTTP endsWith try new return true catch MalformedURLException e false isPageComplete boolean isComplete String url getServerUrl label getRepositoryLabel null length getValidator repository run monitor final serverUrl getUserName getPassword Proxy getUseDefaultProxy WebClientUtil getPlatformProxy else getProxy getProxyHostname getProxyPort getProxyUserName getProxyPassword getWizard getContainer IRunnableWithProgress public void IProgressMonitor throws InvocationTargetException InterruptedException beginTask Connecting UNKNOWN JtracClient client JtracVersion version getJtracVersion Exception throw finally done MessageDialog openInformation Success Repository is valid openWarning Error getCause getMessage repositoryUi super JTrac Connection Settings Example http myserver jtrac setNeedsEncoding this getUrl
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\util\\ExceptionUtils.java, ExceptionUtils toStatus e Optional  return new Status ERROR JtracUiPlugin PLUGIN ID IStatus Error empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\src\\info\\jtrac\\mylyn\\util\\XmlUtils.java, uses Dom j to neatly format a given XML string by adding indents newlines etc Override that accepts an DOM Document param document as Converts String into parsing XmlUtils getAsPrettyXml xmlString Optional  return parse OutputFormat new true setSuppressDeclaration StringWriter out XMLWriter writer try write finally close catch IOException ioe throw RuntimeException toString trim DocumentHelper parseText DocumentException de parseJtrac JtracDocument empty getNewDocument rootElementName d createDocument addElement
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\test\\info\\jtrac\\mylyn\\domain\\ItemTest.java, ItemTest TestCase testXmlToItem Optional  String xml item refId ABC summary Test Summary detail Detail loggedBy Some Body assignedTo Any Document d XmlUtils parse Item new JtracDocument assertEquals getRefId getSummary getDetail getLoggedBy getAssignedTo empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\test\\info\\jtrac\\mylyn\\domain\\SuccessTest.java, SuccessTest TestCase testXmlToSuccess Optional  String xml success foo FOO bar BAR Success new XmlUtils parse assertEquals getValue empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\test\\info\\jtrac\\mylyn\\JtracClientTest.java, JtracClientTest TestCase client setUp Optional  new JtracClient http localhost jtrac null empty testGetItem JtracVersion v getJtracVersion assertNotNull getNumber getTimestamp testPutItem Item item setSummary Test Summary setDetail Detail setLoggedBy Some Body setAssignedTo Any String refId putItem
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\jtrac-mylyn\\test\\info\\jtrac\\mylyn\\JtracRepositoryConnectorTest.java, JtracRepositoryConnectorTest TestCase testGetRepositoryUrlFromTaskUrl Optional  JtracRepositoryConnector connector new String url http localhost jtrac app item ABC assertEquals getRepositoryUrlFromTaskUrl empty testGetTaskIdFromTaskUrl getTaskIdFromTaskUrl
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\AntPropsMojo.java, base class for our mojos MOJO CONFIG PRIVATE MAIN HELPER METHODS parameter expression project localRepository component role org apache maven artifact resolver ArtifactResolver remoteArtifactRepositories factory ArtifactFactory MavenProjectBuilder Things that will be added to the test jars master classpath are not related build and run but other stuff like checkstyle code coverage etc properties initialized at top e g m repo this collects paths resolved from input testPaths extraPaths list of files go into WEB INF lib hack hold flagged as filesets should output relativePath classpaths absolutePath ideally we have extended Value Objects instead using Maps above instantiate a single Maven on fly resolve dependencies given details file fully repository if required convert collection artifacts convenience combination resolving getting bunch function return relative path target add entries load AntPropsMojo AbstractMojo artifactResolver artifactFactory mavenProjectBuilder buildProperties testClassPaths extraClassPaths runtimeFiles execute Optional  null new ArrayList String repoBaseDir getBasedir replace try put Collection runtimeArtifacts getArtifacts getRelativePaths getFiles Set testArtifacts getDependencyArtifacts addAll getTestArtifacts testFiles Properties props loadProperties Iterator i iterator hasNext TestPath testPath next baseDirProperty getBaseDirProperty baseDirPath getProperty getLog warn does exist in break File baseDir exists isDirectory is valid directory filePaths TreeSet j getPaths additional getPath continue listFiles int x length getRelativePath else ExtraPath ep getDependencies Dependency d isResolve getGroupId getArtifactId getVersion Artifact getArtifact resolveArtifact getName isFileset generate catch Exception printStackTrace throw MojoExecutionException getLocalizedMessage empty groupId artifactId version createArtifact jar resolveDependencies pomArtifact MavenProject pomProject buildFromRepository createArtifacts SCOPE TEST ScopeArtifactFilter while f getFile info basePath p len endsWith substring InputStream FileInputStream finally close generateBuildXml projectName projectNameTitleCase Character toUpperCase charAt buildSource FileUtils readFile getClass xml toString buildTarget name titleCase writeFile false created
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\Dependency.java, Represents a dependency that may or not need to be resolved this is just data holder object initialized by Maven and used the AntPropsMojo Dependency groupId artifactId version resolve getArtifactId Optional  return empty getGroupId getVersion isResolve
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\ExtraPath.java, Represents an additional section in the properties file this is just a data holder object that initialized by Maven and used AntPropsMojo ExtraPath name dependencies fileset getDependencies Optional  return empty getName isFileset
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\FileUtils.java, FileUtils exists fileName Optional  File file new return empty readFile InputStream is null try FileInputStream catch Exception e throw RuntimeException clazz getResourceAsStream BufferedReader buffer StringBuffer sb String s InputStreamReader while readLine append n finally close writeFile content FileWriter writer write
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\GenerateMojo.java, goal generate requiresDependencyResolution runtime description ant integration properties file generator with dependency information ready to use by collect all paths here GenerateMojo AntPropsMojo Optional  OutputStream os new FileOutputStream build deps Writer out PrintWriter Date date write generated the AntProps Maven plugin n Set allPaths TreeSet for Iterator i buildProperties entrySet iterator hasNext Map Entry entry next getKey getValue jars runtimeFiles String path test testClassPaths key j fullPath if equals m repo add extraClassPaths name boolean isFileset filesets contains else close FileUtils exists xml generateBuildXml
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\NbBaseMojo.java, NbBaseMojo AntPropsMojo getFileReferences isForWebProject Optional  StringBuffer sb new append m repo buildProperties get n Set fileReferences TreeSet for Iterator i testClassPaths entrySet iterator hasNext Map Entry entry next String key getKey if equals continue paths getValue j path fileReference substring lastIndexOf file reference add javac classpath war content additional runtimeFiles return empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\NbFreeFormMojo.java, goal nbfreeform requiresDependencyResolution runtime description netbeans free form project generator NbFreeFormMojo GenerateMojo generate Optional  try super catch Exception e throw new MojoExecutionException getLocalizedMessage File nbProjectDir nbproject if exists mkdir FileUtils ide targets xml NetBeans file already String ideTargets readFile getClass toString writeFile false getLog info created projectName getArtifactId projectSource freeform projectTarget replace name empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\NbJavaEeMojo.java, goal nbjavaee requiresDependencyResolution runtime NbJavaEeMojo NbBaseMojo getWarFileReferences Optional  StringBuffer sb new append web module additional libraries n for Iterator i runtimeFiles iterator hasNext String path next fileReference substring lastIndexOf library files file reference in war WEB INF lib return empty generate File nbProjDir nbproject if exists mkdir nbProjPropsFile project properties projectName getArtifactId propsSource FileUtils readFile getClass javaee toString propsTarget replace name getFileReferences true writeFile false getLog info created projectSource xml projectTarget else already modifying contents propsContents replaceAll njavac classpath s nwar content nfile nm repo xmlContents regex
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\NbJavaSeMojo.java, goal nbjavase requiresDependencyResolution runtime NbJavaSeMojo NbBaseMojo generate Optional  File nbProjDir new nbproject if exists mkdir nbProjPropsFile project properties String projectName getArtifactId propsSource FileUtils readFile getClass javase toString propsTarget replace name getFileReferences false writeFile getLog info created file projectSource xml projectTarget else already modifying contents replaceAll njavac classpath n s nfile reference nm repo empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\maven-antprops-plugin\\src\\main\\java\\info\\jtrac\\maven\\TestPath.java, Represents an additional test classpath section in the properties file this is just a data holder object that initialized by Maven and used AntPropsMojo TestPath baseDirProperty paths getBaseDirProperty Optional  return empty getPaths
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\wicketgen\\etc\\Application.java, applicationClassName WebApplication logger getHomePage Optional  return HomePage class empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\wicketgen\\etc\\HomePage.java, HomePage WebPage logger  add new Label myLabel Hello World Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\wicketgen\\etc\\ReloadingWicketFilter.java, ReloadingWicketFilter logger banner  super warn Optional empty
E:\\nuaa\\1st_Year\\1_code\\LocalGit\\jtrac\\wicketgen\\etc\\TitleCaser.java, TitleCaser main args Optional  FileOutputStream os new target temp txt PrintWriter out String s write Character toUpperCase charAt substring close empty
